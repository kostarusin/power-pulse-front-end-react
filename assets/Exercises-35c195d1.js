import{i as R,k as Z,R as $,r as d,u as q,j as s,l as ee,L as se,m as U,n as te}from"./index-92520a91.js";import{B as ie,M as P}from"./ButtonModal-93e24075.js";import{i as T}from"./emotion-unitless.esm-54afd083.js";import{u as re}from"./useDiary-82a4464f.js";import{s as D}from"./styled-components.browser.esm-647709e7.js";const ne=e=>e.exercises.loading,O=e=>e.exercises.exercises,ce=e=>e.exercises.bodyParts,ae=()=>{const e=R(ne),t=R(O),r=R(ce);return{loading:e,exercises:t,bodyParts:r}};var V={exports:{}},le="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oe=le,de=oe;function G(){}function Y(){}Y.resetWarningCache=G;var ue=function(){function e(i,n,a,c,m,l){if(l!==de){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Y,resetWarningCache:G};return r.PropTypes=r,r};V.exports=ue();var H=V.exports;const L=Z(H);var z=typeof window>"u"?d.useEffect:d.useLayoutEffect,pe=({isPlaying:e,duration:t,startAt:r=0,updateInterval:i=0,onComplete:n,onUpdate:a})=>{let[c,m]=d.useState(r),l=d.useRef(0),o=d.useRef(r),u=d.useRef(r*-1e3),_=d.useRef(null),h=d.useRef(null),f=d.useRef(null),N=y=>{let g=y/1e3;if(h.current===null){h.current=g,_.current=requestAnimationFrame(N);return}let E=g-h.current,k=l.current+E;h.current=g,l.current=k;let W=o.current+(i===0?k:(k/i|0)*i),B=o.current+k,F=typeof t=="number"&&B>=t;m(F?t:W),F||(_.current=requestAnimationFrame(N))},w=()=>{_.current&&cancelAnimationFrame(_.current),f.current&&clearTimeout(f.current),h.current=null},x=d.useCallback(y=>{w(),l.current=0;let g=typeof y=="number"?y:r;o.current=g,m(g),e&&(_.current=requestAnimationFrame(N))},[e,r]);return z(()=>{if(a==null||a(c),t&&c>=t){u.current+=t*1e3;let{shouldRepeat:y=!1,delay:g=0,newStartAt:E}=(n==null?void 0:n(u.current/1e3))||{};y&&(f.current=setTimeout(()=>x(E),g*1e3))}},[c,t]),z(()=>(e&&(_.current=requestAnimationFrame(N)),w),[e,t,i]),{elapsedTime:c,reset:x}},xe=(e,t,r)=>{let i=e/2,n=t/2,a=i-n,c=2*a,m=r==="clockwise"?"1,0":"0,1",l=2*Math.PI*a;return{path:`m ${i},${n} a ${a},${a} 0 ${m} 0,${c} a ${a},${a} 0 ${m} 0,-${c}`,pathLength:l}},M=(e,t)=>e===0||e===t?0:typeof t=="number"?e-t:0,me=e=>({position:"relative",width:e,height:e}),_e={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},J=(e,t,r,i,n)=>{if(i===0)return t;let a=(n?i-e:e)/i;return t+r*a},A=e=>{var t,r;return(r=(t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(i,n,a,c)=>`#${n}${n}${a}${a}${c}${c}`).substring(1).match(/.{2}/g))==null?void 0:t.map(i=>parseInt(i,16)))!=null?r:[]},he=(e,t)=>{var r;let{colors:i,colorsTime:n,isSmoothColorTransition:a=!0}=e;if(typeof i=="string")return i;let c=(r=n==null?void 0:n.findIndex((h,f)=>h>=t&&t>=n[f+1]))!=null?r:-1;if(!n||c===-1)return i[0];if(!a)return i[c];let m=n[c]-t,l=n[c]-n[c+1],o=A(i[c]),u=A(i[c+1]),_=!!e.isGrowing;return`rgb(${o.map((h,f)=>J(m,h,u[f]-h,l,_)|0).join(",")})`},ge=e=>{let{duration:t,initialRemainingTime:r,updateInterval:i,size:n=180,strokeWidth:a=12,trailStrokeWidth:c,isPlaying:m=!1,isGrowing:l=!1,rotation:o="clockwise",onComplete:u,onUpdate:_}=e,h=d.useRef(),f=Math.max(a,c??0),{path:N,pathLength:w}=xe(n,f,o),{elapsedTime:x}=pe({isPlaying:m,duration:t,startAt:M(t,r),updateInterval:i,onUpdate:typeof _=="function"?g=>{let E=Math.ceil(t-g);E!==h.current&&(h.current=E,_(E))}:void 0,onComplete:typeof u=="function"?g=>{var E;let{shouldRepeat:k,delay:W,newInitialRemainingTime:B}=(E=u(g))!=null?E:{};if(k)return{shouldRepeat:k,delay:W,newStartAt:M(t,B)}}:void 0}),y=t-x;return{elapsedTime:x,path:N,pathLength:w,remainingTime:Math.ceil(y),rotation:o,size:n,stroke:he(e,y),strokeDashoffset:J(x,0,w,t,l),strokeWidth:a}},K=e=>{let{children:t,strokeLinecap:r,trailColor:i,trailStrokeWidth:n}=e,{path:a,pathLength:c,stroke:m,strokeDashoffset:l,remainingTime:o,elapsedTime:u,size:_,strokeWidth:h}=ge(e);return $.createElement("div",{style:me(_)},$.createElement("svg",{viewBox:`0 0 ${_} ${_}`,width:_,height:_,xmlns:"http://www.w3.org/2000/svg"},$.createElement("path",{d:a,fill:"none",stroke:i??"#d9d9d9",strokeWidth:n??h}),$.createElement("path",{d:a,fill:"none",stroke:m,strokeLinecap:r??"round",strokeWidth:h,strokeDasharray:c,strokeDashoffset:l})),typeof t=="function"&&$.createElement("div",{style:_e},t({remainingTime:o,elapsedTime:u,color:m})))};K.displayName="CountdownCircleTimer";const fe="_module_container_14xwa_5",ye="_left_side_14xwa_11",ve="_timer_14xwa_17",je="_play_14xwa_23",be="_calories_14xwa_30",Ne="_calories_amount_14xwa_36",Ee="_right_side_14xwa_40",we="_gif_14xwa_47",ke="_exercise_descr_14xwa_53",Te="_exercise_div_14xwa_59",$e="_type_14xwa_70",Le="_type_descr_14xwa_76",Ce="_button_14xwa_117",p={module_container:fe,left_side:ye,timer:ve,play:je,calories:be,calories_amount:Ne,right_side:Ee,gif:we,exercise_descr:ke,exercise_div:Te,type:$e,type_descr:Le,button:Ce},Ie=({exercise:e,toggleExerciseModal:t,toggleSuccessModal:r,setExercise:i})=>{const[n,a]=d.useState(0),[c,m]=d.useState(0),[l,o]=d.useState(!1),u=q(),{date:_}=re();d.useEffect(()=>{let x;return l?x=setInterval(()=>{a(y=>{const g=y+1;return console.log("duration",g),g===180&&(clearInterval(x),o(!1)),g})},1e3):clearInterval(x),()=>{clearInterval(x)}},[l,o]),d.useEffect(()=>{const x=(n/60*e.burnedCalories/3).toFixed();m(x)},[n,e.burnedCalories]);const h=()=>{o(x=>!x)},f=x=>x.charAt(0).toUpperCase()+x.slice(1),N=Math.floor(n/60),w=()=>{u(ee({date:_,credentials:{doneExercises:[{exercise:e._id,time:N,calories:c}]}})),i({time:N,calories:c}),t(),r()};return s.jsxs("div",{className:p.module_container,children:[s.jsxs("div",{className:p.left_side,children:[s.jsx("img",{className:p.gif,src:e.gifUrl,alt:"Exercise technique"}),s.jsxs("div",{className:p.timer,children:[s.jsx(K,{isPlaying:l,strokeWidth:4,duration:180,size:124,isGrowing:!0,rotation:"counterclockwise",colors:["#E6533C"],trailColor:["#323232"],children:({remainingTime:x})=>{const y=Math.floor(x/60),g=x%60;return`${String(y).padStart(2,"0")}:${String(g).padStart(2,"0")}`}}),!l&&s.jsx("svg",{className:p.play,onClick:h,children:s.jsx("use",{href:T+"#icon-play"})}),l&&s.jsx("svg",{className:p.play,onClick:h,children:s.jsx("use",{href:T+"#icon-pause-square"})}),s.jsxs("p",{className:p.calories,children:["Burned calories:"," ",s.jsx("span",{className:p.calories_amount,children:c})]})]})]}),s.jsxs("div",{className:p.right_side,children:[s.jsxs("div",{className:p.exercise_descr,children:[s.jsxs("div",{className:p.exercise_div,children:[s.jsx("p",{className:p.type,children:"Name"}),s.jsx("p",{className:p.type_descr,children:f(e.name)})]}),s.jsxs("div",{className:p.exercise_div,children:[s.jsx("p",{className:p.type,children:"Target"}),s.jsx("p",{className:p.type_descr,children:f(e.target)})]}),s.jsxs("div",{className:p.exercise_div,children:[s.jsx("p",{className:p.type,children:"Body Part"}),s.jsx("p",{className:p.type_descr,children:f(e.bodyPart)})]}),s.jsxs("div",{className:p.exercise_div,children:[s.jsx("p",{className:p.type,children:"Equipment"}),s.jsx("p",{className:p.type_descr,children:f(e.equipment)})]})]}),s.jsx("button",{type:"button",onClick:w,disabled:N<1,className:p.button,children:"Add to diary"})]})]})},Se="_container_1kxge_1",Re="_pic_1kxge_10",We="_welldone_1kxge_14",Be="_amount_container_1kxge_20",qe="_text_1kxge_27",Fe="_amount_1kxge_20",Pe="_links_1kxge_37",ze="_link_1kxge_37",Me="_svg_1kxge_51",b={container:Se,pic:Re,welldone:We,amount_container:Be,text:qe,amount:Fe,links:Pe,link:ze,svg:Me},Ae="/power-pulse-front-end-react/assets/thumb_up-47cb592a.png",Ue=({exercise:e})=>s.jsxs("div",{className:b.container,children:[s.jsx("img",{className:b.pic,src:Ae,alt:"Well done"}),s.jsx("p",{className:b.welldone,children:"Well done"}),s.jsxs("div",{className:b.amount_container,children:[s.jsxs("p",{className:b.text,children:["Your time: ",s.jsx("span",{className:b.amount,children:e.time})]}),s.jsxs("p",{className:b.text,children:["Burned calories:"," ",s.jsx("span",{className:b.amount,children:e.calories})]})]}),s.jsxs("div",{className:b.links,children:[s.jsx(ie,{btnType:"button",text:"Next exercise"}),s.jsxs(se,{to:"/diary",className:b.link,children:["To the diary",s.jsx("svg",{className:b.svg,children:s.jsx("use",{href:T+"#icon-arrow-modal"})})]})]})]}),De="_waistItemLi_1gzq2_1",Oe="_btnWrapper_1gzq2_33",Ve="_cardLabel_1gzq2_40",Ge="_btnLabel_1gzq2_51",Ye="_svgExercise_1gzq2_71",He="_exercisesTitleBox_1gzq2_81",Je="_title_1gzq2_86",Ke="_svgExerciseRun_1gzq2_104",Qe="_spanExerciseRun_1gzq2_109",Xe="_list_1gzq2_121",Ze="_listItem_1gzq2_127",es="_listItemValue_1gzq2_136",j={waistItemLi:De,btnWrapper:Oe,cardLabel:Ve,btnLabel:Ge,svgExercise:Ye,exercisesTitleBox:He,title:Je,svgExerciseRun:Ke,spanExerciseRun:Qe,list:Xe,listItem:Ze,listItemValue:es},C={cardLabel:"Workout",btnLabel:"Start",list:{burnedCalories:"Burned calories:",bodyPart:"Body part:",target:"Target:"}},ss=({data:e})=>{console.log(e);const[t,r]=d.useState(!1),[i,n]=d.useState(!1),[a,c]=d.useState({}),m=u=>u.slice(0,1).toUpperCase()+u.slice(1),l=()=>{r(u=>!u)},o=()=>{n(u=>!u)};return s.jsxs("li",{className:j.waistItemLi,children:[s.jsxs("div",{className:j.btnWrapper,children:[s.jsx("p",{className:j.cardLabel,children:C.cardLabel}),s.jsxs("button",{className:j.btnLabel,type:"button",onClick:l,children:[C.btnLabel,s.jsx("span",{children:s.jsx("svg",{className:j.svgExercise,children:s.jsx("use",{href:`${T}#icon-add-arrow`})})})]})]}),s.jsxs("div",{className:j.exercisesTitleBox,children:[s.jsx("span",{className:j.spanExerciseRun,children:s.jsxs("svg",{className:j.svgExerciseRun,width:24,height:24,children:[s.jsx("use",{href:`${T}#icon-runn ing-figure`}),s.jsx("use",{href:`${T}#icon-running-stick-figure-svgrepo-com-1`})]})}),s.jsxs("h3",{className:j.title,children:[m(e.name)," "]})]}),t&&s.jsx(P,{onClose:l,children:s.jsx(Ie,{exercise:e,toggleExerciseModal:l,toggleSuccessModal:o,setExercise:c})}),i&&s.jsx(P,{onClose:o,children:s.jsx(Ue,{exercise:a})}),s.jsx("ul",{className:j.list,children:Object.keys(C.list).map(u=>s.jsxs("li",{className:j.listItem,children:[C.list[u],s.jsx("span",{className:j.listItemValue,children:m(String(e[u]))})]},u))})]})},ts="_waistListContainer_7c63l_1",is="_imgWaist_7c63l_5",rs="_waistItemUl_7c63l_18",ns="_noExercisesTitle_7c63l_58",I={waistListContainer:ts,imgWaist:is,waistItemUl:rs,noExercisesTitle:ns},cs="/power-pulse-front-end-react/assets/Waist1-17196d5b.jpg",Q=({activeName:e})=>{const t=R(O);console.log(t);const r=t.filter(i=>i.bodyPart===e);return console.log(e),console.log("Filtered Exercises:",r),s.jsx(s.Fragment,{children:s.jsxs("div",{className:I.waistListContainer,children:[s.jsx("ul",{className:I.waistItemUl,children:r.length?r.slice(0,50).map(i=>s.jsx(ss,{data:i},i._id)):s.jsx("h2",{className:I.noExercisesTitle,children:"There are no exercises in this category, please try again later!"})}),s.jsx("img",{className:I.imgWaist,src:cs,alt:"Waist exercise image"})]})})},as="_div_1gyia_1",ls={div:as};H.PropTypes.object;D.div`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding-bottom: 90px;
  height: 100vh;

  ul.pagination {
    display: flex;
    list-style: none;
    padding: 0;
    justify-content: center;
    margin-top: 32px;
  }

  li.page-item {
    margin: 0 4px;
  }

  button.page-link {
    border: none;
    background-color: #fff;
    padding: 0;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    cursor: pointer;
    transition: background-color 0.2s ease;
    font-size: 0;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  button.page-link:not(.active) {
    background-color: rgba(239, 237, 232, 0.1);
  }

  li.page-item.active button.page-link {
    padding: 0;
  }

  li.page-item.active button.page-link svg {
    width: 14px;
    height: 14px;
  }

  @media screen and (min-width: 768px) {
  }

  @media screen and (min-width: 1440px) {
    justify-content: baseline;
    height: 100%;
  }
`;D.li`
  margin-top: 32px;
`;L.array;const os="_exercisesWrapper_o5r5l_2",ds="_exercisesBox_o5r5l_18",us="_exercisesTitle_o5r5l_24",S={exercisesWrapper:os,exercisesBox:ds,exercisesTitle:us};L.array;L.array;const ps="_ExercisesNavList_1gj7q_1",xs="_ExercisesFilter_1gj7q_19",ms="_active_1gj7q_35",_s="_FilterBtn_1gj7q_67",v={ExercisesNavList:ps,ExercisesFilter:xs,active:ms,FilterBtn:_s},X=({activeFilter:e,handleFilterClick:t})=>s.jsxs("ul",{className:v.ExercisesNavList,children:[s.jsx("li",{className:`${v.ExercisesFilter} ${e==="Body parts"?v.active:""}`,children:s.jsx("button",{type:"button",onClick:()=>t("Body parts"),className:`${v.FilterBtn} ${-e==="Body parts"?v.active:""}`,children:"Body parts"})}),s.jsx("li",{className:`${v.ExercisesFilter} ${e==="Muscules"?v.active:""}`,children:s.jsx("button",{type:"button",onClick:()=>t("Muscules"),className:`${v.FilterBtn} ${e==="Muscules"?v.active:""}`,children:"Muscles"})}),s.jsx("li",{className:`${v.ExercisesFilter} ${e==="Equipment"?v.active:""}`,children:s.jsx("button",{type:"button",onClick:()=>t("Equipment"),className:`${v.FilterBtn} ${e==="Equipment"?v.active:""}`,children:"Equipment"})})]});X.propTypes={activeFilter:L.string,handleFilterClick:L.func};const hs=({setActiveName:e})=>{const[t,r]=d.useState("Body parts"),[i,n]=d.useState(""),a=q();d.useEffect(()=>{a(U())},[a]);const{bodyParts:c}=ae();console.log(c);const m=o=>{r(o)};console.log(t);const l=o=>o.slice(0,1).toUpperCase()+o.slice(1);return s.jsxs("div",{className:S.exercisesWrapper,children:[s.jsxs("li",{className:S.exercisesBox,children:[t!=="Waist"?s.jsx("h2",{className:S.exercisesTitle,children:"Exercises"}):s.jsx("h2",{className:S.exercisesTitle,children:l(i)}),s.jsx(X,{activeFilter:t,handleFilterClick:m})]}),t==="Waist"&&s.jsx(Q,{exerciseName:i})]})},bs=()=>{const e=q(),[t,r]=d.useState(null);return console.log(t),d.useEffect(()=>{e(te())},[e]),d.useEffect(()=>{e(U())},[e]),s.jsx("div",{className:ls.div,children:t?s.jsx(Q,{activeName:t}):s.jsx(hs,{setActiveName:r})})};export{bs as default};
