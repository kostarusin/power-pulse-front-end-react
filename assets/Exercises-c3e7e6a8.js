import{r as p,a as q,j as e,x as b,L as I}from"./index-4acf84dc.js";const F="_modal_backdrop_1p76w_1",B="_modal_content_1p76w_10",D="_close_x_1p76w_23",C={modal_backdrop:F,modal_content:B,close_x:D},$="/power-pulse-front-end-react/assets/icons-a8b5f8b1.svg",U=document.querySelector("#modal-root"),z=({onClose:s,children:t})=>{p.useEffect(()=>{const n=r=>{r.code==="Escape"&&(console.log("1",1),s())};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},[s]);const c=n=>{n.currentTarget===n.target&&s()},a=()=>{s()};return q.createPortal(e.jsx("div",{className:C.modal_backdrop,onClick:c,children:e.jsxs("div",{className:C.modal_content,children:[e.jsx("svg",{className:C.close_x,onClick:a,children:e.jsx("use",{href:$+"#icon-x"})}),t]})}),U)};var R=typeof window>"u"?p.useEffect:p.useLayoutEffect,G=({isPlaying:s,duration:t,startAt:c=0,updateInterval:a=0,onComplete:n,onUpdate:r})=>{let[i,o]=p.useState(c),_=p.useRef(0),x=p.useRef(c),g=p.useRef(c*-1e3),d=p.useRef(null),u=p.useRef(null),y=p.useRef(null),v=k=>{let m=k/1e3;if(u.current===null){u.current=m,d.current=requestAnimationFrame(v);return}let f=m-u.current,j=_.current+f;u.current=m,_.current=j;let E=x.current+(a===0?j:(j/a|0)*a),T=x.current+j,S=typeof t=="number"&&T>=t;o(S?t:E),S||(d.current=requestAnimationFrame(v))},N=()=>{d.current&&cancelAnimationFrame(d.current),y.current&&clearTimeout(y.current),u.current=null},w=p.useCallback(k=>{N(),_.current=0;let m=typeof k=="number"?k:c;x.current=m,o(m),s&&(d.current=requestAnimationFrame(v))},[s,c]);return R(()=>{if(r==null||r(i),t&&i>=t){g.current+=t*1e3;let{shouldRepeat:k=!1,delay:m=0,newStartAt:f}=(n==null?void 0:n(g.current/1e3))||{};k&&(y.current=setTimeout(()=>w(f),m*1e3))}},[i,t]),R(()=>(s&&(d.current=requestAnimationFrame(v)),N),[s,t,a]),{elapsedTime:i,reset:w}},O=(s,t,c)=>{let a=s/2,n=t/2,r=a-n,i=2*r,o=c==="clockwise"?"1,0":"0,1",_=2*Math.PI*r;return{path:`m ${a},${n} a ${r},${r} 0 ${o} 0,${i} a ${r},${r} 0 ${o} 0,-${i}`,pathLength:_}},A=(s,t)=>s===0||s===t?0:typeof t=="number"?s-t:0,K=s=>({position:"relative",width:s,height:s}),Y={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},L=(s,t,c,a,n)=>{if(a===0)return t;let r=(n?a-s:s)/a;return t+c*r},M=s=>{var t,c;return(c=(t=s.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(a,n,r,i)=>`#${n}${n}${r}${r}${i}${i}`).substring(1).match(/.{2}/g))==null?void 0:t.map(a=>parseInt(a,16)))!=null?c:[]},H=(s,t)=>{var c;let{colors:a,colorsTime:n,isSmoothColorTransition:r=!0}=s;if(typeof a=="string")return a;let i=(c=n==null?void 0:n.findIndex((u,y)=>u>=t&&t>=n[y+1]))!=null?c:-1;if(!n||i===-1)return a[0];if(!r)return a[i];let o=n[i]-t,_=n[i]-n[i+1],x=M(a[i]),g=M(a[i+1]),d=!!s.isGrowing;return`rgb(${x.map((u,y)=>L(o,u,g[y]-u,_,d)|0).join(",")})`},J=s=>{let{duration:t,initialRemainingTime:c,updateInterval:a,size:n=180,strokeWidth:r=12,trailStrokeWidth:i,isPlaying:o=!1,isGrowing:_=!1,rotation:x="clockwise",onComplete:g,onUpdate:d}=s,u=p.useRef(),y=Math.max(r,i??0),{path:v,pathLength:N}=O(n,y,x),{elapsedTime:w}=G({isPlaying:o,duration:t,startAt:A(t,c),updateInterval:a,onUpdate:typeof d=="function"?m=>{let f=Math.ceil(t-m);f!==u.current&&(u.current=f,d(f))}:void 0,onComplete:typeof g=="function"?m=>{var f;let{shouldRepeat:j,delay:E,newInitialRemainingTime:T}=(f=g(m))!=null?f:{};if(j)return{shouldRepeat:j,delay:E,newStartAt:A(t,T)}}:void 0}),k=t-w;return{elapsedTime:w,path:v,pathLength:N,remainingTime:Math.ceil(k),rotation:x,size:n,stroke:H(s,k),strokeDashoffset:L(w,0,N,t,_),strokeWidth:r}},P=s=>{let{children:t,strokeLinecap:c,trailColor:a,trailStrokeWidth:n}=s,{path:r,pathLength:i,stroke:o,strokeDashoffset:_,remainingTime:x,elapsedTime:g,size:d,strokeWidth:u}=J(s);return b.createElement("div",{style:K(d)},b.createElement("svg",{viewBox:`0 0 ${d} ${d}`,width:d,height:d,xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{d:r,fill:"none",stroke:a??"#d9d9d9",strokeWidth:n??u}),b.createElement("path",{d:r,fill:"none",stroke:o,strokeLinecap:c??"round",strokeWidth:u,strokeDasharray:i,strokeDashoffset:_})),typeof t=="function"&&b.createElement("div",{style:Y},t({remainingTime:x,elapsedTime:g,color:o})))};P.displayName="CountdownCircleTimer";const Q="_module_container_14pez_5",V="_left_side_14pez_11",X="_timer_14pez_17",Z="_play_14pez_23",ee="_calories_14pez_30",te="_calories_amount_14pez_36",se="_right_side_14pez_40",ne="_gif_14pez_47",re="_exercise_descr_14pez_53",ae="_exercise_div_14pez_59",ie="_type_14pez_70",ce="_type_descr_14pez_76",l={module_container:Q,left_side:V,timer:X,play:Z,calories:ee,calories_amount:te,right_side:se,gif:ne,exercise_descr:re,exercise_div:ae,type:ie,type_descr:ce},le="_button_103xp_1",oe={button:le},W=({btnType:s,text:t})=>e.jsx("button",{type:s,className:oe.button,children:t}),de=({exercise:s})=>{const[t,c]=p.useState(!1),a=()=>{c(r=>!r)},n=r=>r.charAt(0).toUpperCase()+r.slice(1);return e.jsxs("div",{className:l.module_container,children:[e.jsxs("div",{className:l.left_side,children:[e.jsx("img",{className:l.gif,src:s.gifUrl,alt:"Exercise technique"}),e.jsxs("div",{className:l.timer,children:[e.jsx(P,{isPlaying:t,strokeWidth:4,duration:180,size:124,isGrowing:!0,rotation:"counterclockwise",colors:["#E6533C"],trailColor:["#323232"],children:({remainingTime:r})=>{const i=Math.floor(r/60),o=r%60;return`${String(i).padStart(2,"0")}:${String(o).padStart(2,"0")}`}}),!t&&e.jsx("svg",{className:l.play,onClick:a,children:e.jsx("use",{href:$+"#icon-play"})}),t&&e.jsx("svg",{className:l.play,onClick:a,children:e.jsx("use",{href:$+"#icon-pause-square"})}),e.jsxs("p",{className:l.calories,children:["Burned calories: ",e.jsx("span",{className:l.calories_amount,children:"0"})]})]})]}),e.jsxs("div",{className:l.right_side,children:[e.jsxs("div",{className:l.exercise_descr,children:[e.jsxs("div",{className:l.exercise_div,children:[e.jsx("p",{className:l.type,children:"Name"}),e.jsx("p",{className:l.type_descr,children:n(s.name)})]}),e.jsxs("div",{className:l.exercise_div,children:[e.jsx("p",{className:l.type,children:"Target"}),e.jsx("p",{className:l.type_descr,children:n(s.target)})]}),e.jsxs("div",{className:l.exercise_div,children:[e.jsx("p",{className:l.type,children:"Body Part"}),e.jsx("p",{className:l.type_descr,children:n(s.bodyPart)})]}),e.jsxs("div",{className:l.exercise_div,children:[e.jsx("p",{className:l.type,children:"Equipment"}),e.jsx("p",{className:l.type_descr,children:n(s.equipment)})]})]}),e.jsx(W,{btnType:"button",text:"Add to diary"})]})]})},ue="_container_1kxge_1",pe="_pic_1kxge_10",me="_welldone_1kxge_14",_e="_amount_container_1kxge_20",he="_text_1kxge_27",xe="_amount_1kxge_20",fe="_links_1kxge_37",ge="_link_1kxge_37",ye="_svg_1kxge_51",h={container:ue,pic:pe,welldone:me,amount_container:_e,text:he,amount:xe,links:fe,link:ge,svg:ye},ke="/power-pulse-front-end-react/assets/Thumb-up-e5cead45.png",je=()=>e.jsxs("div",{className:h.container,children:[e.jsx("img",{className:h.pic,src:ke,alt:"Well done"}),e.jsx("p",{className:h.welldone,children:"Well done"}),e.jsxs("div",{className:h.amount_container,children:[e.jsxs("p",{className:h.text,children:["Your time: ",e.jsx("span",{className:h.amount,children:"0"})]}),e.jsxs("p",{className:h.text,children:["Burned calories: ",e.jsx("span",{className:h.amount,children:"0"})]})]}),e.jsxs("div",{className:h.links,children:[e.jsx(W,{btnType:"button",text:"Next exercise"}),e.jsxs(I,{to:"/",className:h.link,children:["To the diary",e.jsx("svg",{className:h.svg,children:e.jsx("use",{href:$+"#icon-arrow-modal"})})]})]})]}),we=()=>{const[s,t]=p.useState(!1),[c,a]=p.useState(!1),n=()=>{t(o=>!o)},r=()=>{a(o=>!o)},i={_id:"64f2458d6f67bc34bae4f813",bodyPart:"upper arms",equipment:"barbell",gifUrl:"https://ftp.goit.study/img/power-pulse/gifs/0038.gif",name:"barbell drag curl",target:"biceps",burnedCalories:84,time:3};return e.jsxs("div",{children:["Exercises",e.jsx("button",{type:"button",onClick:n,children:"TEST Open exercise"}),s&&e.jsx(z,{onClose:n,children:e.jsx(de,{exercise:i})}),e.jsx("button",{type:"button",onClick:r,children:"TEST Open exercise"}),c&&e.jsx(z,{onClose:r,children:e.jsx(je,{exercise:i})})]})};export{we as default};
