import{i as B,k as ee,j as e,r as u,R as C,u as D,l as se,L as te,m as ie,n as ne}from"./index-40632c5a.js";import{s as O}from"./styled-components.browser.esm-5f3b9f92.js";import{B as re,M}from"./ButtonModal-53087061.js";import{i as T}from"./emotion-unitless.esm-7ab928dd.js";import{u as ae}from"./useDiary-397da36c.js";const ce=s=>s.exercises.loading,le=s=>s.exercises.exercises,oe=s=>s.exercises.bodyParts,V=()=>{const s=B(ce),t=B(le),a=B(oe);return{loading:s,exercises:t,bodyParts:a}};var G={exports:{}},de="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ue=de,pe=ue;function Y(){}function H(){}H.resetWarningCache=Y;var me=function(){function s(n,i,l,r,o,c){if(c!==pe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}s.isRequired=s;function t(){return s}var a={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:t,element:s,elementType:s,instanceOf:t,node:s,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:H,resetWarningCache:Y};return a.PropTypes=a,a};G.exports=me();var J=G.exports;const q=ee(J),xe="_exercisesWrapper_1w6oh_1",he="_exercisesBox_1w6oh_16",_e="_exercisesTitle_1w6oh_22",ge="_div_1w6oh_30",I={exercisesWrapper:xe,exercisesBox:he,exercisesTitle:_e,div:ge},fe="_ExercisesNavList_1gj7q_1",je="_ExercisesFilter_1gj7q_19",ye="_active_1gj7q_35",ve="_FilterBtn_1gj7q_67",v={ExercisesNavList:fe,ExercisesFilter:je,active:ye,FilterBtn:ve},K=({activeFilter:s,handleFilterClick:t})=>e.jsxs("ul",{className:v.ExercisesNavList,children:[e.jsx("li",{className:`${v.ExercisesFilter} ${s==="Body parts"?v.active:""}`,children:e.jsx("button",{type:"button",onClick:()=>t("Body parts"),className:`${v.FilterBtn} ${-s==="Body parts"?v.active:""}`,children:"Body parts"})}),e.jsx("li",{className:`${v.ExercisesFilter} ${s==="Muscules"?v.active:""}`,children:e.jsx("button",{type:"button",onClick:()=>t("Muscules"),className:`${v.FilterBtn} ${s==="Muscules"?v.active:""}`,children:"Muscles"})}),e.jsx("li",{className:`${v.ExercisesFilter} ${s==="Equipment"?v.active:""}`,children:e.jsx("button",{type:"button",onClick:()=>t("Equipment"),className:`${v.FilterBtn} ${s==="Equipment"?v.active:""}`,children:"Equipment"})})]});K.propTypes={activeFilter:q.string,handleFilterClick:q.func};const we="_exercisesUl_705hr_1",be={exercisesUl:we},Ne="_exercisesLi_1pbc6_1",Ee="_image_1pbc6_6",ke="_titleContainer_1pbc6_29",Te="_exerciseItemTitle_1pbc6_43",Ce="_exerciseItemText_1pbc6_55",L={exercisesLi:Ne,image:Ee,titleContainer:ke,exerciseItemTitle:Te,exerciseItemText:Ce},Ie="/power-pulse-front-end-react/assets/0-default-fa91a1ec.jpg",Q=({exercisesItem:s,setActiveName:t})=>{const{name:a,filter:n,imgURL:i}=s,l=r=>r.slice(0,1).toUpperCase()+r.slice(1);return e.jsxs("li",{className:L.exercisesLi,onClick:()=>t(s.name),children:[e.jsx("img",{className:L.image,src:i||Ie,alt:a}),e.jsxs("div",{className:L.titleContainer,children:[e.jsx("h3",{className:L.exerciseItemTitle,children:l(a)}),e.jsx("p",{className:L.exerciseItemtext,children:n})]})]})};Q.propTypes={exercisesItem:J.PropTypes.object};const Le="/power-pulse-front-end-react/assets/sprite-2fdf8fa9.svg",$e=O.div`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding-bottom: 90px;
  height: 100vh;

  ul.pagination {
    display: flex;
    list-style: none;
    padding: 0;
    justify-content: center;
    margin-top: 32px;
  }

  li.page-item {
    margin: 0 4px;
  }

  button.page-link {
    border: none;
    background-color: #fff;
    padding: 0;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    cursor: pointer;
    transition: background-color 0.2s ease;
    font-size: 0;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  button.page-link:not(.active) {
    background-color: rgba(239, 237, 232, 0.1);
  }

  li.page-item.active button.page-link {
    padding: 0;
  }

  li.page-item.active button.page-link svg {
    width: 14px;
    height: 14px;
  }

  @media screen and (min-width: 768px) {
  }

  @media screen and (min-width: 1440px) {
    justify-content: baseline;
    height: 100%;
  }
`,Se=O.li`
  margin-top: 32px;
`,Pe=({itemsPerPage:s,totalItems:t,currentPage:a,onPageChange:n})=>{const i=Math.ceil(t/s),l=o=>{o>=1&&o<=i&&n(o)},r=()=>{const o=[];for(let c=1;c<=i;c++)o.push(e.jsx(Se,{className:`page-item ${c===a?"active":""}`,children:e.jsxs("button",{className:"page-link",onClick:()=>l(c),children:[c,c===a&&e.jsx("svg",{children:e.jsx("use",{href:`${Le}#pagination-btn`})})]})},c));return o};return e.jsx("nav",{"aria-label":"Pagination",children:e.jsx("ul",{className:"pagination",children:r()})})},W=({handleFilterClick:s,handleSetExName:t,setActiveName:a,filters:n})=>{const[i,l]=u.useState(1),r=()=>{const g=window.innerWidth;return g>=768&&g<=1439?9:10},[o,c]=u.useState(r),d=()=>{c(r())};u.useEffect(()=>(window.addEventListener("resize",d),d(),()=>{window.removeEventListener("resize",d)}),[]);const p=g=>{l(g)},m=i*o,h=m-o,j=n?n.slice(h,m):[];return e.jsxs($e,{children:[e.jsx("ul",{className:be.exercisesUl,children:j.map(g=>e.jsx(Q,{exercisesItem:g,handleFilterClick:s,handleSetExName:t,setActiveName:a},g._id))}),n&&o<n.length&&e.jsx(Pe,{itemsPerPage:o,totalItems:n.length,currentPage:i,onPageChange:p})]})};var U=typeof window>"u"?u.useEffect:u.useLayoutEffect,Re=({isPlaying:s,duration:t,startAt:a=0,updateInterval:n=0,onComplete:i,onUpdate:l})=>{let[r,o]=u.useState(a),c=u.useRef(0),d=u.useRef(a),p=u.useRef(a*-1e3),m=u.useRef(null),h=u.useRef(null),j=u.useRef(null),g=y=>{let f=y/1e3;if(h.current===null){h.current=f,m.current=requestAnimationFrame(g);return}let N=f-h.current,k=c.current+N;h.current=f,c.current=k;let P=d.current+(n===0?k:(k/n|0)*n),R=d.current+k,F=typeof t=="number"&&R>=t;o(F?t:P),F||(m.current=requestAnimationFrame(g))},E=()=>{m.current&&cancelAnimationFrame(m.current),j.current&&clearTimeout(j.current),h.current=null},_=u.useCallback(y=>{E(),c.current=0;let f=typeof y=="number"?y:a;d.current=f,o(f),s&&(m.current=requestAnimationFrame(g))},[s,a]);return U(()=>{if(l==null||l(r),t&&r>=t){p.current+=t*1e3;let{shouldRepeat:y=!1,delay:f=0,newStartAt:N}=(i==null?void 0:i(p.current/1e3))||{};y&&(j.current=setTimeout(()=>_(N),f*1e3))}},[r,t]),U(()=>(s&&(m.current=requestAnimationFrame(g)),E),[s,t,n]),{elapsedTime:r,reset:_}},Be=(s,t,a)=>{let n=s/2,i=t/2,l=n-i,r=2*l,o=a==="clockwise"?"1,0":"0,1",c=2*Math.PI*l;return{path:`m ${n},${i} a ${l},${l} 0 ${o} 0,${r} a ${l},${l} 0 ${o} 0,-${r}`,pathLength:c}},A=(s,t)=>s===0||s===t?0:typeof t=="number"?s-t:0,We=s=>({position:"relative",width:s,height:s}),Fe={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},X=(s,t,a,n,i)=>{if(n===0)return t;let l=(i?n-s:s)/n;return t+a*l},z=s=>{var t,a;return(a=(t=s.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(n,i,l,r)=>`#${i}${i}${l}${l}${r}${r}`).substring(1).match(/.{2}/g))==null?void 0:t.map(n=>parseInt(n,16)))!=null?a:[]},Me=(s,t)=>{var a;let{colors:n,colorsTime:i,isSmoothColorTransition:l=!0}=s;if(typeof n=="string")return n;let r=(a=i==null?void 0:i.findIndex((h,j)=>h>=t&&t>=i[j+1]))!=null?a:-1;if(!i||r===-1)return n[0];if(!l)return n[r];let o=i[r]-t,c=i[r]-i[r+1],d=z(n[r]),p=z(n[r+1]),m=!!s.isGrowing;return`rgb(${d.map((h,j)=>X(o,h,p[j]-h,c,m)|0).join(",")})`},qe=s=>{let{duration:t,initialRemainingTime:a,updateInterval:n,size:i=180,strokeWidth:l=12,trailStrokeWidth:r,isPlaying:o=!1,isGrowing:c=!1,rotation:d="clockwise",onComplete:p,onUpdate:m}=s,h=u.useRef(),j=Math.max(l,r??0),{path:g,pathLength:E}=Be(i,j,d),{elapsedTime:_}=Re({isPlaying:o,duration:t,startAt:A(t,a),updateInterval:n,onUpdate:typeof m=="function"?f=>{let N=Math.ceil(t-f);N!==h.current&&(h.current=N,m(N))}:void 0,onComplete:typeof p=="function"?f=>{var N;let{shouldRepeat:k,delay:P,newInitialRemainingTime:R}=(N=p(f))!=null?N:{};if(k)return{shouldRepeat:k,delay:P,newStartAt:A(t,R)}}:void 0}),y=t-_;return{elapsedTime:_,path:g,pathLength:E,remainingTime:Math.ceil(y),rotation:d,size:i,stroke:Me(s,y),strokeDashoffset:X(_,0,E,t,c),strokeWidth:l}},Z=s=>{let{children:t,strokeLinecap:a,trailColor:n,trailStrokeWidth:i}=s,{path:l,pathLength:r,stroke:o,strokeDashoffset:c,remainingTime:d,elapsedTime:p,size:m,strokeWidth:h}=qe(s);return C.createElement("div",{style:We(m)},C.createElement("svg",{viewBox:`0 0 ${m} ${m}`,width:m,height:m,xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:l,fill:"none",stroke:n??"#d9d9d9",strokeWidth:i??h}),C.createElement("path",{d:l,fill:"none",stroke:o,strokeLinecap:a??"round",strokeWidth:h,strokeDasharray:r,strokeDashoffset:c})),typeof t=="function"&&C.createElement("div",{style:Fe},t({remainingTime:d,elapsedTime:p,color:o})))};Z.displayName="CountdownCircleTimer";const Ue="_module_container_14xwa_5",Ae="_left_side_14xwa_11",ze="_timer_14xwa_17",De="_play_14xwa_23",Oe="_calories_14xwa_30",Ve="_calories_amount_14xwa_36",Ge="_right_side_14xwa_40",Ye="_gif_14xwa_47",He="_exercise_descr_14xwa_53",Je="_exercise_div_14xwa_59",Ke="_type_14xwa_70",Qe="_type_descr_14xwa_76",Xe="_button_14xwa_117",x={module_container:Ue,left_side:Ae,timer:ze,play:De,calories:Oe,calories_amount:Ve,right_side:Ge,gif:Ye,exercise_descr:He,exercise_div:Je,type:Ke,type_descr:Qe,button:Xe},Ze=({exercise:s,toggleExerciseModal:t,toggleSuccessModal:a,setExercise:n})=>{const[i,l]=u.useState(0),[r,o]=u.useState(0),[c,d]=u.useState(!1),p=D(),{date:m}=ae();u.useEffect(()=>{let _;return c?_=setInterval(()=>{l(y=>{const f=y+1;return console.log("duration",f),f===180&&(clearInterval(_),d(!1)),f})},1e3):clearInterval(_),()=>{clearInterval(_)}},[c,d]),u.useEffect(()=>{const _=(i/60*s.burnedCalories/3).toFixed();o(_)},[i,s.burnedCalories]);const h=()=>{d(_=>!_)},j=_=>_.charAt(0).toUpperCase()+_.slice(1),g=Math.floor(i/60),E=()=>{p(se({date:m,credentials:{doneExercises:[{exercise:s._id,time:g,calories:r}]}})),n({time:g,calories:r}),t(),a()};return e.jsxs("div",{className:x.module_container,children:[e.jsxs("div",{className:x.left_side,children:[e.jsx("img",{className:x.gif,src:s.gifUrl,alt:"Exercise technique"}),e.jsxs("div",{className:x.timer,children:[e.jsx(Z,{isPlaying:c,strokeWidth:4,duration:180,size:124,isGrowing:!0,rotation:"counterclockwise",colors:["#E6533C"],trailColor:["#323232"],children:({remainingTime:_})=>{const y=Math.floor(_/60),f=_%60;return`${String(y).padStart(2,"0")}:${String(f).padStart(2,"0")}`}}),!c&&e.jsx("svg",{className:x.play,onClick:h,children:e.jsx("use",{href:T+"#icon-play"})}),c&&e.jsx("svg",{className:x.play,onClick:h,children:e.jsx("use",{href:T+"#icon-pause-square"})}),e.jsxs("p",{className:x.calories,children:["Burned calories:"," ",e.jsx("span",{className:x.calories_amount,children:r})]})]})]}),e.jsxs("div",{className:x.right_side,children:[e.jsxs("div",{className:x.exercise_descr,children:[e.jsxs("div",{className:x.exercise_div,children:[e.jsx("p",{className:x.type,children:"Name"}),e.jsx("p",{className:x.type_descr,children:j(s.name)})]}),e.jsxs("div",{className:x.exercise_div,children:[e.jsx("p",{className:x.type,children:"Target"}),e.jsx("p",{className:x.type_descr,children:j(s.target)})]}),e.jsxs("div",{className:x.exercise_div,children:[e.jsx("p",{className:x.type,children:"Body Part"}),e.jsx("p",{className:x.type_descr,children:j(s.bodyPart)})]}),e.jsxs("div",{className:x.exercise_div,children:[e.jsx("p",{className:x.type,children:"Equipment"}),e.jsx("p",{className:x.type_descr,children:j(s.equipment)})]})]}),e.jsx("button",{type:"button",onClick:E,disabled:g<1,className:x.button,children:"Add to diary"})]})]})},es="_container_1kxge_1",ss="_pic_1kxge_10",ts="_welldone_1kxge_14",is="_amount_container_1kxge_20",ns="_text_1kxge_27",rs="_amount_1kxge_20",as="_links_1kxge_37",cs="_link_1kxge_37",ls="_svg_1kxge_51",b={container:es,pic:ss,welldone:ts,amount_container:is,text:ns,amount:rs,links:as,link:cs,svg:ls},os="/power-pulse-front-end-react/assets/thumb_up-47cb592a.png",ds=({exercise:s})=>e.jsxs("div",{className:b.container,children:[e.jsx("img",{className:b.pic,src:os,alt:"Well done"}),e.jsx("p",{className:b.welldone,children:"Well done"}),e.jsxs("div",{className:b.amount_container,children:[e.jsxs("p",{className:b.text,children:["Your time: ",e.jsx("span",{className:b.amount,children:s.time})]}),e.jsxs("p",{className:b.text,children:["Burned calories:"," ",e.jsx("span",{className:b.amount,children:s.calories})]})]}),e.jsxs("div",{className:b.links,children:[e.jsx(re,{btnType:"button",text:"Next exercise"}),e.jsxs(te,{to:"/diary",className:b.link,children:["To the diary",e.jsx("svg",{className:b.svg,children:e.jsx("use",{href:T+"#icon-arrow-modal"})})]})]})]}),us="_waistItemLi_1glwp_1",ps="_btnWrapper_1glwp_30",ms="_cardLabel_1glwp_37",xs="_btnLabel_1glwp_48",hs="_svgExercise_1glwp_68",_s="_exercisesTitleBox_1glwp_78",gs="_title_1glwp_83",fs="_svgExerciseRun_1glwp_101",js="_spanExerciseRun_1glwp_106",ys="_list_1glwp_118",vs="_listItem_1glwp_124",ws="_listItemValue_1glwp_133",w={waistItemLi:us,btnWrapper:ps,cardLabel:ms,btnLabel:xs,svgExercise:hs,exercisesTitleBox:_s,title:gs,svgExerciseRun:fs,spanExerciseRun:js,list:ys,listItem:vs,listItemValue:ws},$={cardLabel:"Workout",btnLabel:"Start",list:{burnedCalories:"Burned calories:",bodyPart:"Body part:",target:"Target:"}},bs=({data:s})=>{const[t,a]=u.useState(!1),[n,i]=u.useState(!1),[l,r]=u.useState({}),o=p=>p.slice(0,1).toUpperCase()+p.slice(1),c=()=>{a(p=>!p)},d=()=>{i(p=>!p)};return e.jsxs("li",{className:w.waistItemLi,children:[e.jsxs("div",{className:w.btnWrapper,children:[e.jsx("p",{className:w.cardLabel,children:$.cardLabel}),e.jsxs("button",{className:w.btnLabel,type:"button",onClick:c,children:[$.btnLabel,e.jsx("span",{children:e.jsx("svg",{className:w.svgExercise,children:e.jsx("use",{href:`${T}#icon-add-arrow`})})})]})]}),e.jsxs("div",{className:w.exercisesTitleBox,children:[e.jsx("span",{className:w.spanExerciseRun,children:e.jsxs("svg",{className:w.svgExerciseRun,width:24,height:24,children:[e.jsx("use",{href:`${T}#icon-runn ing-figure`}),e.jsx("use",{href:`${T}#icon-running-stick-figure-svgrepo-com-1`})]})}),e.jsxs("h3",{className:w.title,children:[o(s.name)," "]})]}),t&&e.jsx(M,{onClose:c,children:e.jsx(Ze,{exercise:s,toggleExerciseModal:c,toggleSuccessModal:d,setExercise:r})}),n&&e.jsx(M,{onClose:d,children:e.jsx(ds,{exercise:l})}),e.jsx("ul",{className:w.list,children:Object.keys($.list).map(p=>e.jsxs("li",{className:w.listItem,children:[$.list[p],e.jsx("span",{className:w.listItemValue,children:o(String(s[p]))})]},p))})]})},Ns="_waistListContainer_7c63l_1",Es="_imgWaist_7c63l_5",ks="_waistItemUl_7c63l_18",Ts="_noExercisesTitle_7c63l_58",S={waistListContainer:Ns,imgWaist:Es,waistItemUl:ks,noExercisesTitle:Ts},Cs="/power-pulse-front-end-react/assets/Waist1-17196d5b.jpg",Is=({activeName:s,activeFilter:t})=>{const{exercises:a}=V(),n=a.filter(i=>{if(t==="Body parts")return i.bodyPart===s;if(t==="Muscules")return i.target===s;if(t==="Equipment")return i.equipment===s});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:S.waistListContainer,children:[e.jsx("ul",{className:S.waistItemUl,children:n.length?n.slice(0,50).map(i=>e.jsx(bs,{data:i},i._id)):e.jsx("h2",{className:S.noExercisesTitle,children:"There are no exercises in this category, please try again later!"})}),e.jsx("img",{className:S.imgWaist,src:Cs,alt:"Waist exercise image"})]})})},Bs=()=>{const[s,t]=u.useState("Body parts"),[a]=u.useState(""),[n,i]=u.useState(null),{bodyParts:l}=V(),r=D();u.useEffect(()=>{r(ie())},[r]),u.useEffect(()=>{r(ne())},[r]);const o=d=>d.slice(0,1).toUpperCase()+d.slice(1),c=d=>{t(d)};return e.jsx("div",{className:I.div,children:e.jsxs("div",{className:I.exercisesWrapper,children:[e.jsxs("div",{className:I.exercisesBox,children:[n&&e.jsx("button",{type:"button",onClick:()=>i(""),children:"Back"}),s!=="Waist"?e.jsx("h2",{className:I.exercisesTitle,children:"Exercises"}):e.jsx("h2",{className:I.exercisesTitle,children:o(a)}),e.jsx(K,{activeFilter:s,handleFilterClick:c})]}),n?e.jsx(Is,{activeName:n,activeFilter:s}):e.jsxs(e.Fragment,{children:[s==="Body parts"&&e.jsx(W,{handleFilterClick:c,setActiveName:i,filters:l.bodyPart}),s==="Muscules"&&e.jsx(W,{handleFilterClick:c,setActiveName:i,filters:l.muscles}),s==="Equipment"&&e.jsx(W,{handleFilterClick:c,setActiveName:i,filters:l.equipment})]})]})})};export{Bs as default};
