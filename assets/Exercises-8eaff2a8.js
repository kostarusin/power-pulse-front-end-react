import{i as P,k as ee,j as e,r as p,R as C,u as D,l as se,L as te,m as ie,n as ne}from"./index-4610bea4.js";import{s as O}from"./styled-components.browser.esm-58970d03.js";import{B as re,M as F}from"./ButtonModal-136be6d4.js";import{i as T}from"./emotion-unitless.esm-4c7a2ab1.js";import{u as ae}from"./useDiary-32422c1a.js";const ce=s=>s.exercises.loading,V=s=>s.exercises.exercises,le=s=>s.exercises.bodyParts,oe=()=>{const s=P(ce),t=P(V),r=P(le);return{loading:s,exercises:t,bodyParts:r}};var G={exports:{}},de="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ue=de,pe=ue;function Y(){}function H(){}H.resetWarningCache=Y;var me=function(){function s(i,n,c,a,l,o){if(o!==pe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}s.isRequired=s;function t(){return s}var r={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:t,element:s,elementType:s,instanceOf:t,node:s,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:H,resetWarningCache:Y};return r.PropTypes=r,r};G.exports=me();var J=G.exports;const z=ee(J),xe="_div_1gyia_1",_e={div:xe},he="_ExercisesNavList_1gj7q_1",ge="_ExercisesFilter_1gj7q_19",fe="_active_1gj7q_35",je="_FilterBtn_1gj7q_67",v={ExercisesNavList:he,ExercisesFilter:ge,active:fe,FilterBtn:je},K=({activeFilter:s,handleFilterClick:t})=>e.jsxs("ul",{className:v.ExercisesNavList,children:[e.jsx("li",{className:`${v.ExercisesFilter} ${s==="Body parts"?v.active:""}`,children:e.jsx("button",{type:"button",onClick:()=>t("Body parts"),className:`${v.FilterBtn} ${-s==="Body parts"?v.active:""}`,children:"Body parts"})}),e.jsx("li",{className:`${v.ExercisesFilter} ${s==="Muscules"?v.active:""}`,children:e.jsx("button",{type:"button",onClick:()=>t("Muscules"),className:`${v.FilterBtn} ${s==="Muscules"?v.active:""}`,children:"Muscles"})}),e.jsx("li",{className:`${v.ExercisesFilter} ${s==="Equipment"?v.active:""}`,children:e.jsx("button",{type:"button",onClick:()=>t("Equipment"),className:`${v.FilterBtn} ${s==="Equipment"?v.active:""}`,children:"Equipment"})})]});K.propTypes={activeFilter:z.string,handleFilterClick:z.func};const ye="_exercisesUl_705hr_1",ve={exercisesUl:ye},be="_exercisesLi_1pbc6_1",Ne="_image_1pbc6_6",we="_titleContainer_1pbc6_29",Ee="_exerciseItemTitle_1pbc6_43",ke="_exerciseItemText_1pbc6_55",I={exercisesLi:be,image:Ne,titleContainer:we,exerciseItemTitle:Ee,exerciseItemText:ke},Te="/power-pulse-front-end-react/assets/0-default-fa91a1ec.jpg",Q=({exercisesItem:s,setActiveName:t})=>{const{name:r,filter:i,imgURL:n}=s,c=a=>a.slice(0,1).toUpperCase()+a.slice(1);return e.jsxs("li",{className:I.exercisesLi,onClick:()=>t(s.name),children:[e.jsx("img",{className:I.image,src:n||Te,alt:r}),e.jsxs("div",{className:I.titleContainer,children:[e.jsx("h3",{className:I.exerciseItemTitle,children:c(r)}),e.jsx("p",{className:I.exerciseItemtext,children:i})]})]})};Q.propTypes={exercisesItem:J.PropTypes.object};const Ce="/power-pulse-front-end-react/assets/sprite-2fdf8fa9.svg",Ie=O.div`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding-bottom: 90px;
  height: 100vh;

  ul.pagination {
    display: flex;
    list-style: none;
    padding: 0;
    justify-content: center;
    margin-top: 32px;
  }

  li.page-item {
    margin: 0 4px;
  }

  button.page-link {
    border: none;
    background-color: #fff;
    padding: 0;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    cursor: pointer;
    transition: background-color 0.2s ease;
    font-size: 0;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  button.page-link:not(.active) {
    background-color: rgba(239, 237, 232, 0.1);
  }

  li.page-item.active button.page-link {
    padding: 0;
  }

  li.page-item.active button.page-link svg {
    width: 14px;
    height: 14px;
  }

  @media screen and (min-width: 768px) {
  }

  @media screen and (min-width: 1440px) {
    justify-content: baseline;
    height: 100%;
  }
`,Le=O.li`
  margin-top: 32px;
`,$e=({itemsPerPage:s,totalItems:t,currentPage:r,onPageChange:i})=>{const n=Math.ceil(t/s),c=l=>{l>=1&&l<=n&&i(l)},a=()=>{const l=[];for(let o=1;o<=n;o++)l.push(e.jsx(Le,{className:`page-item ${o===r?"active":""}`,children:e.jsxs("button",{className:"page-link",onClick:()=>c(o),children:[o,o===r&&e.jsx("svg",{children:e.jsx("use",{href:`${Ce}#pagination-btn`})})]})},o));return l};return e.jsx("nav",{"aria-label":"Pagination",children:e.jsx("ul",{className:"pagination",children:a()})})},W=({handleFilterClick:s,handleSetExName:t,setActiveName:r,filters:i})=>{const[n,c]=p.useState(1),a=()=>{const g=window.innerWidth;return g>=768&&g<=1439?9:10},[l,o]=p.useState(a),d=()=>{o(a())};p.useEffect(()=>(window.addEventListener("resize",d),d(),()=>{window.removeEventListener("resize",d)}),[]);const u=g=>{c(g)},m=n*l,_=m-l,j=i?i.slice(_,m):[];return e.jsxs(Ie,{children:[e.jsx("ul",{className:ve.exercisesUl,children:j.map(g=>e.jsx(Q,{exercisesItem:g,handleFilterClick:s,handleSetExName:t,setActiveName:r},g._id))}),i&&l<i.length&&e.jsx($e,{itemsPerPage:l,totalItems:i.length,currentPage:n,onPageChange:u})]})};var M=typeof window>"u"?p.useEffect:p.useLayoutEffect,Se=({isPlaying:s,duration:t,startAt:r=0,updateInterval:i=0,onComplete:n,onUpdate:c})=>{let[a,l]=p.useState(r),o=p.useRef(0),d=p.useRef(r),u=p.useRef(r*-1e3),m=p.useRef(null),_=p.useRef(null),j=p.useRef(null),g=y=>{let f=y/1e3;if(_.current===null){_.current=f,m.current=requestAnimationFrame(g);return}let w=f-_.current,k=o.current+w;_.current=f,o.current=k;let R=d.current+(i===0?k:(k/i|0)*i),B=d.current+k,q=typeof t=="number"&&B>=t;l(q?t:R),q||(m.current=requestAnimationFrame(g))},E=()=>{m.current&&cancelAnimationFrame(m.current),j.current&&clearTimeout(j.current),_.current=null},h=p.useCallback(y=>{E(),o.current=0;let f=typeof y=="number"?y:r;d.current=f,l(f),s&&(m.current=requestAnimationFrame(g))},[s,r]);return M(()=>{if(c==null||c(a),t&&a>=t){u.current+=t*1e3;let{shouldRepeat:y=!1,delay:f=0,newStartAt:w}=(n==null?void 0:n(u.current/1e3))||{};y&&(j.current=setTimeout(()=>h(w),f*1e3))}},[a,t]),M(()=>(s&&(m.current=requestAnimationFrame(g)),E),[s,t,i]),{elapsedTime:a,reset:h}},Pe=(s,t,r)=>{let i=s/2,n=t/2,c=i-n,a=2*c,l=r==="clockwise"?"1,0":"0,1",o=2*Math.PI*c;return{path:`m ${i},${n} a ${c},${c} 0 ${l} 0,${a} a ${c},${c} 0 ${l} 0,-${a}`,pathLength:o}},U=(s,t)=>s===0||s===t?0:typeof t=="number"?s-t:0,Re=s=>({position:"relative",width:s,height:s}),Be={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},X=(s,t,r,i,n)=>{if(i===0)return t;let c=(n?i-s:s)/i;return t+r*c},A=s=>{var t,r;return(r=(t=s.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(i,n,c,a)=>`#${n}${n}${c}${c}${a}${a}`).substring(1).match(/.{2}/g))==null?void 0:t.map(i=>parseInt(i,16)))!=null?r:[]},We=(s,t)=>{var r;let{colors:i,colorsTime:n,isSmoothColorTransition:c=!0}=s;if(typeof i=="string")return i;let a=(r=n==null?void 0:n.findIndex((_,j)=>_>=t&&t>=n[j+1]))!=null?r:-1;if(!n||a===-1)return i[0];if(!c)return i[a];let l=n[a]-t,o=n[a]-n[a+1],d=A(i[a]),u=A(i[a+1]),m=!!s.isGrowing;return`rgb(${d.map((_,j)=>X(l,_,u[j]-_,o,m)|0).join(",")})`},qe=s=>{let{duration:t,initialRemainingTime:r,updateInterval:i,size:n=180,strokeWidth:c=12,trailStrokeWidth:a,isPlaying:l=!1,isGrowing:o=!1,rotation:d="clockwise",onComplete:u,onUpdate:m}=s,_=p.useRef(),j=Math.max(c,a??0),{path:g,pathLength:E}=Pe(n,j,d),{elapsedTime:h}=Se({isPlaying:l,duration:t,startAt:U(t,r),updateInterval:i,onUpdate:typeof m=="function"?f=>{let w=Math.ceil(t-f);w!==_.current&&(_.current=w,m(w))}:void 0,onComplete:typeof u=="function"?f=>{var w;let{shouldRepeat:k,delay:R,newInitialRemainingTime:B}=(w=u(f))!=null?w:{};if(k)return{shouldRepeat:k,delay:R,newStartAt:U(t,B)}}:void 0}),y=t-h;return{elapsedTime:h,path:g,pathLength:E,remainingTime:Math.ceil(y),rotation:d,size:n,stroke:We(s,y),strokeDashoffset:X(h,0,E,t,o),strokeWidth:c}},Z=s=>{let{children:t,strokeLinecap:r,trailColor:i,trailStrokeWidth:n}=s,{path:c,pathLength:a,stroke:l,strokeDashoffset:o,remainingTime:d,elapsedTime:u,size:m,strokeWidth:_}=qe(s);return C.createElement("div",{style:Re(m)},C.createElement("svg",{viewBox:`0 0 ${m} ${m}`,width:m,height:m,xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:c,fill:"none",stroke:i??"#d9d9d9",strokeWidth:n??_}),C.createElement("path",{d:c,fill:"none",stroke:l,strokeLinecap:r??"round",strokeWidth:_,strokeDasharray:a,strokeDashoffset:o})),typeof t=="function"&&C.createElement("div",{style:Be},t({remainingTime:d,elapsedTime:u,color:l})))};Z.displayName="CountdownCircleTimer";const Fe="_module_container_14xwa_5",ze="_left_side_14xwa_11",Me="_timer_14xwa_17",Ue="_play_14xwa_23",Ae="_calories_14xwa_30",De="_calories_amount_14xwa_36",Oe="_right_side_14xwa_40",Ve="_gif_14xwa_47",Ge="_exercise_descr_14xwa_53",Ye="_exercise_div_14xwa_59",He="_type_14xwa_70",Je="_type_descr_14xwa_76",Ke="_button_14xwa_117",x={module_container:Fe,left_side:ze,timer:Me,play:Ue,calories:Ae,calories_amount:De,right_side:Oe,gif:Ve,exercise_descr:Ge,exercise_div:Ye,type:He,type_descr:Je,button:Ke},Qe=({exercise:s,toggleExerciseModal:t,toggleSuccessModal:r,setExercise:i})=>{const[n,c]=p.useState(0),[a,l]=p.useState(0),[o,d]=p.useState(!1),u=D(),{date:m}=ae();p.useEffect(()=>{let h;return o?h=setInterval(()=>{c(y=>{const f=y+1;return console.log("duration",f),f===180&&(clearInterval(h),d(!1)),f})},1e3):clearInterval(h),()=>{clearInterval(h)}},[o,d]),p.useEffect(()=>{const h=(n/60*s.burnedCalories/3).toFixed();l(h)},[n,s.burnedCalories]);const _=()=>{d(h=>!h)},j=h=>h.charAt(0).toUpperCase()+h.slice(1),g=Math.floor(n/60),E=()=>{u(se({date:m,credentials:{doneExercises:[{exercise:s._id,time:g,calories:a}]}})),i({time:g,calories:a}),t(),r()};return e.jsxs("div",{className:x.module_container,children:[e.jsxs("div",{className:x.left_side,children:[e.jsx("img",{className:x.gif,src:s.gifUrl,alt:"Exercise technique"}),e.jsxs("div",{className:x.timer,children:[e.jsx(Z,{isPlaying:o,strokeWidth:4,duration:180,size:124,isGrowing:!0,rotation:"counterclockwise",colors:["#E6533C"],trailColor:["#323232"],children:({remainingTime:h})=>{const y=Math.floor(h/60),f=h%60;return`${String(y).padStart(2,"0")}:${String(f).padStart(2,"0")}`}}),!o&&e.jsx("svg",{className:x.play,onClick:_,children:e.jsx("use",{href:T+"#icon-play"})}),o&&e.jsx("svg",{className:x.play,onClick:_,children:e.jsx("use",{href:T+"#icon-pause-square"})}),e.jsxs("p",{className:x.calories,children:["Burned calories:"," ",e.jsx("span",{className:x.calories_amount,children:a})]})]})]}),e.jsxs("div",{className:x.right_side,children:[e.jsxs("div",{className:x.exercise_descr,children:[e.jsxs("div",{className:x.exercise_div,children:[e.jsx("p",{className:x.type,children:"Name"}),e.jsx("p",{className:x.type_descr,children:j(s.name)})]}),e.jsxs("div",{className:x.exercise_div,children:[e.jsx("p",{className:x.type,children:"Target"}),e.jsx("p",{className:x.type_descr,children:j(s.target)})]}),e.jsxs("div",{className:x.exercise_div,children:[e.jsx("p",{className:x.type,children:"Body Part"}),e.jsx("p",{className:x.type_descr,children:j(s.bodyPart)})]}),e.jsxs("div",{className:x.exercise_div,children:[e.jsx("p",{className:x.type,children:"Equipment"}),e.jsx("p",{className:x.type_descr,children:j(s.equipment)})]})]}),e.jsx("button",{type:"button",onClick:E,disabled:g<1,className:x.button,children:"Add to diary"})]})]})},Xe="_container_1kxge_1",Ze="_pic_1kxge_10",es="_welldone_1kxge_14",ss="_amount_container_1kxge_20",ts="_text_1kxge_27",is="_amount_1kxge_20",ns="_links_1kxge_37",rs="_link_1kxge_37",as="_svg_1kxge_51",N={container:Xe,pic:Ze,welldone:es,amount_container:ss,text:ts,amount:is,links:ns,link:rs,svg:as},cs="/power-pulse-front-end-react/assets/thumb_up-47cb592a.png",ls=({exercise:s})=>e.jsxs("div",{className:N.container,children:[e.jsx("img",{className:N.pic,src:cs,alt:"Well done"}),e.jsx("p",{className:N.welldone,children:"Well done"}),e.jsxs("div",{className:N.amount_container,children:[e.jsxs("p",{className:N.text,children:["Your time: ",e.jsx("span",{className:N.amount,children:s.time})]}),e.jsxs("p",{className:N.text,children:["Burned calories:"," ",e.jsx("span",{className:N.amount,children:s.calories})]})]}),e.jsxs("div",{className:N.links,children:[e.jsx(re,{btnType:"button",text:"Next exercise"}),e.jsxs(te,{to:"/diary",className:N.link,children:["To the diary",e.jsx("svg",{className:N.svg,children:e.jsx("use",{href:T+"#icon-arrow-modal"})})]})]})]}),os="_waistItemLi_1gzq2_1",ds="_btnWrapper_1gzq2_33",us="_cardLabel_1gzq2_40",ps="_btnLabel_1gzq2_51",ms="_svgExercise_1gzq2_71",xs="_exercisesTitleBox_1gzq2_81",_s="_title_1gzq2_86",hs="_svgExerciseRun_1gzq2_104",gs="_spanExerciseRun_1gzq2_109",fs="_list_1gzq2_121",js="_listItem_1gzq2_127",ys="_listItemValue_1gzq2_136",b={waistItemLi:os,btnWrapper:ds,cardLabel:us,btnLabel:ps,svgExercise:ms,exercisesTitleBox:xs,title:_s,svgExerciseRun:hs,spanExerciseRun:gs,list:fs,listItem:js,listItemValue:ys},L={cardLabel:"Workout",btnLabel:"Start",list:{burnedCalories:"Burned calories:",bodyPart:"Body part:",target:"Target:"}},vs=({data:s})=>{const[t,r]=p.useState(!1),[i,n]=p.useState(!1),[c,a]=p.useState({}),l=u=>u.slice(0,1).toUpperCase()+u.slice(1),o=()=>{r(u=>!u)},d=()=>{n(u=>!u)};return e.jsxs("li",{className:b.waistItemLi,children:[e.jsxs("div",{className:b.btnWrapper,children:[e.jsx("p",{className:b.cardLabel,children:L.cardLabel}),e.jsxs("button",{className:b.btnLabel,type:"button",onClick:o,children:[L.btnLabel,e.jsx("span",{children:e.jsx("svg",{className:b.svgExercise,children:e.jsx("use",{href:`${T}#icon-add-arrow`})})})]})]}),e.jsxs("div",{className:b.exercisesTitleBox,children:[e.jsx("span",{className:b.spanExerciseRun,children:e.jsxs("svg",{className:b.svgExerciseRun,width:24,height:24,children:[e.jsx("use",{href:`${T}#icon-runn ing-figure`}),e.jsx("use",{href:`${T}#icon-running-stick-figure-svgrepo-com-1`})]})}),e.jsxs("h3",{className:b.title,children:[l(s.name)," "]})]}),t&&e.jsx(F,{onClose:o,children:e.jsx(Qe,{exercise:s,toggleExerciseModal:o,toggleSuccessModal:d,setExercise:a})}),i&&e.jsx(F,{onClose:d,children:e.jsx(ls,{exercise:c})}),e.jsx("ul",{className:b.list,children:Object.keys(L.list).map(u=>e.jsxs("li",{className:b.listItem,children:[L.list[u],e.jsx("span",{className:b.listItemValue,children:l(String(s[u]))})]},u))})]})},bs="_waistListContainer_7c63l_1",Ns="_imgWaist_7c63l_5",ws="_waistItemUl_7c63l_18",Es="_noExercisesTitle_7c63l_58",$={waistListContainer:bs,imgWaist:Ns,waistItemUl:ws,noExercisesTitle:Es},ks="/power-pulse-front-end-react/assets/Waist1-17196d5b.jpg",Ts=({activeName:s})=>{const r=P(V).filter(i=>i.bodyPart===s);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:$.waistListContainer,children:[e.jsx("ul",{className:$.waistItemUl,children:r.length?r.slice(0,50).map(i=>e.jsx(vs,{data:i},i._id)):e.jsx("h2",{className:$.noExercisesTitle,children:"There are no exercises in this category, please try again later!"})}),e.jsx("img",{className:$.imgWaist,src:ks,alt:"Waist exercise image"})]})})},Cs="_exercisesWrapper_o5r5l_2",Is="_exercisesBox_o5r5l_18",Ls="_exercisesTitle_o5r5l_24",S={exercisesWrapper:Cs,exercisesBox:Is,exercisesTitle:Ls},Ws=()=>{const[s,t]=p.useState("Body parts"),[r,i]=p.useState(""),[n,c]=p.useState(null),{bodyParts:a}=oe(),l=D();console.log(n),p.useEffect(()=>{l(ie())},[l]),p.useEffect(()=>{l(ne())},[l]);const o=u=>u.slice(0,1).toUpperCase()+u.slice(1),d=u=>{t(u)};return e.jsx("div",{className:_e.div,children:e.jsxs("div",{className:S.exercisesWrapper,children:[e.jsxs("div",{className:S.exercisesBox,children:[n&&e.jsx("button",{type:"button",onClick:()=>c(""),children:"Back"}),s!=="Waist"?e.jsx("h2",{className:S.exercisesTitle,children:"Exercises"}):e.jsx("h2",{className:S.exercisesTitle,children:o(r)}),e.jsx(K,{activeFilter:s,handleFilterClick:d})]}),n?e.jsx(Ts,{activeName:n}):e.jsxs(e.Fragment,{children:[s==="Body parts"&&e.jsx(W,{handleFilterClick:d,setActiveName:c,filters:a.bodyPart}),s==="Muscules"&&e.jsx(W,{handleFilterClick:d,setActiveName:c,filters:a.muscles}),s==="Equipment"&&e.jsx(W,{handleFilterClick:d,setActiveName:c,filters:a.equipment})]})]})})};export{Ws as default};
