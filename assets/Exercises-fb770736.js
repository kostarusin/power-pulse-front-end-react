import{i as R,k as ee,j as e,r as u,R as I,u as D,l as se,L as te,m as ie,n as ne,s as re}from"./index-9fa43872.js";import{s as O}from"./styled-components.browser.esm-edda12ad.js";import{B as ce,M}from"./ButtonModal-3ad37aa3.js";import{i as C}from"./emotion-unitless.esm-a3c65bf0.js";import{u as ae}from"./useDiary-e70cc8b6.js";const oe=s=>s.exercises.loading,le=s=>s.exercises.exercises,de=s=>s.exercises.bodyParts,V=()=>{const s=R(oe),t=R(le),r=R(de);return{loading:s,exercises:t,bodyParts:r}};var G={exports:{}},ue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",pe=ue,me=pe;function Y(){}function H(){}H.resetWarningCache=Y;var xe=function(){function s(n,i,o,c,l,a){if(a!==me){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}s.isRequired=s;function t(){return s}var r={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:t,element:s,elementType:s,instanceOf:t,node:s,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:H,resetWarningCache:Y};return r.PropTypes=r,r};G.exports=xe();var J=G.exports;const U=ee(J),_e="_exercisesWrapper_jwoec_1",he="_exercisesBox_jwoec_16",ge="_exercisesTitle_jwoec_22",fe="_div_jwoec_30",je="_btnBack_jwoec_53",ye="_svgBack_jwoec_65",T={exercisesWrapper:_e,exercisesBox:he,exercisesTitle:ge,div:fe,btnBack:je,svgBack:ye},be="_ExercisesNavList_1fsjk_1",ve="_ExercisesFilter_1fsjk_19",Ne="_active_1fsjk_35",ke="_FilterBtn_1fsjk_67",b={ExercisesNavList:be,ExercisesFilter:ve,active:Ne,FilterBtn:ke},K=({activeFilter:s,handleFilterClick:t,setActiveName:r})=>e.jsxs("ul",{className:b.ExercisesNavList,children:[e.jsx("li",{className:`${b.ExercisesFilter} ${s==="Body parts"?b.active:""}`,children:e.jsx("button",{type:"button",onClick:()=>{t("Body parts"),r("")},className:`${b.FilterBtn} ${s==="Body parts"?b.active:""}`,children:"Body parts"})}),e.jsx("li",{className:`${b.ExercisesFilter} ${s==="Muscules"?b.active:""}`,children:e.jsx("button",{type:"button",onClick:()=>{t("Muscules"),r("")},className:`${b.FilterBtn} ${s==="Muscules"?b.active:""}`,children:"Muscles"})}),e.jsx("li",{className:`${b.ExercisesFilter} ${s==="Equipment"?b.active:""}`,children:e.jsx("button",{type:"button",onClick:()=>{t("Equipment"),r("")},className:`${b.FilterBtn} ${s==="Equipment"?b.active:""}`,children:"Equipment"})})]});K.propTypes={activeFilter:U.string,handleFilterClick:U.func};const we="_exercisesUl_8nbca_1",Ee={exercisesUl:we},Te="_exercisesLi_1ncnr_1",Ce="_image_1ncnr_6",Ie="_titleContainer_1ncnr_30",Le="_exerciseItemTitle_1ncnr_44",$e="_exerciseItemText_1ncnr_56",L={exercisesLi:Te,image:Ce,titleContainer:Ie,exerciseItemTitle:Le,exerciseItemText:$e},Se="/power-pulse-front-end-react/assets/0-default-fa91a1ec.jpg",Q=({exercisesItem:s,setActiveName:t})=>{const{name:r,filter:n,imgURL:i}=s,o=c=>c.slice(0,1).toUpperCase()+c.slice(1);return e.jsxs("li",{className:L.exercisesLi,onClick:()=>t(s.name),children:[e.jsx("img",{className:L.image,src:i||Se,alt:r}),e.jsxs("div",{className:L.titleContainer,children:[e.jsx("h3",{className:L.exerciseItemTitle,children:o(r)}),e.jsx("p",{className:L.exerciseItemtext,children:n})]})]})};Q.propTypes={exercisesItem:J.PropTypes.object};const Be="/power-pulse-front-end-react/assets/sprite-2fdf8fa9.svg",Pe=O.div`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding-bottom: 90px;
  height: 100vh;

  ul.pagination {
    display: flex;
    list-style: none;
    padding: 0;
    justify-content: center;
    margin-top: 32px;
  }

  li.page-item {
    margin: 0 4px;
  }

  button.page-link {
    border: none;
    background-color: #fff;
    padding: 0;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    cursor: pointer;
    transition: background-color 0.2s ease;
    font-size: 0;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  nav.pagination-nav {
    padding-bottom: 90px;
  }

  button.page-link:not(.active) {
    background-color: rgba(239, 237, 232, 0.1);
  }

  li.page-item.active button.page-link {
    padding: 0;
  }

  li.page-item.active button.page-link svg {
    width: 14px;
    height: 14px;
  }

`,Re=O.li`
  margin-top: 32px;
`,We=({itemsPerPage:s,totalItems:t,currentPage:r,onPageChange:n})=>{const i=Math.ceil(t/s),o=l=>{l>=1&&l<=i&&n(l)},c=()=>{const l=[];for(let a=1;a<=i;a++)l.push(e.jsx(Re,{className:`page-item ${a===r?"active":""}`,children:e.jsxs("button",{className:"page-link",onClick:()=>o(a),children:[a,a===r&&e.jsx("svg",{children:e.jsx("use",{href:`${Be}#pagination-btn`})})]})},a));return l};return e.jsx("nav",{"aria-label":"Pagination",className:"pagination-nav",children:e.jsx("ul",{className:"pagination",children:c()})})},W=({handleFilterClick:s,handleSetExName:t,setActiveName:r,filters:n})=>{const[i,o]=u.useState(1),c=()=>{const g=window.innerWidth;return g>=768&&g<=1439?9:10},[l,a]=u.useState(c),d=()=>{a(c())};u.useEffect(()=>(window.addEventListener("resize",d),d(),()=>{window.removeEventListener("resize",d)}),[]);const p=g=>{o(g)},m=i*l,_=m-l,j=n?n.slice(_,m):[];return e.jsxs(Pe,{children:[e.jsx("ul",{className:Ee.exercisesUl,children:j.map(g=>e.jsx(Q,{exercisesItem:g,handleFilterClick:s,handleSetExName:t,setActiveName:r},g._id))}),n&&l<n.length&&e.jsx(We,{itemsPerPage:l,totalItems:n.length,currentPage:i,onPageChange:p})]})};var q=typeof window>"u"?u.useEffect:u.useLayoutEffect,Fe=({isPlaying:s,duration:t,startAt:r=0,updateInterval:n=0,onComplete:i,onUpdate:o})=>{let[c,l]=u.useState(r),a=u.useRef(0),d=u.useRef(r),p=u.useRef(r*-1e3),m=u.useRef(null),_=u.useRef(null),j=u.useRef(null),g=y=>{let f=y/1e3;if(_.current===null){_.current=f,m.current=requestAnimationFrame(g);return}let k=f-_.current,E=a.current+k;_.current=f,a.current=E;let B=d.current+(n===0?E:(E/n|0)*n),P=d.current+E,F=typeof t=="number"&&P>=t;l(F?t:B),F||(m.current=requestAnimationFrame(g))},w=()=>{m.current&&cancelAnimationFrame(m.current),j.current&&clearTimeout(j.current),_.current=null},h=u.useCallback(y=>{w(),a.current=0;let f=typeof y=="number"?y:r;d.current=f,l(f),s&&(m.current=requestAnimationFrame(g))},[s,r]);return q(()=>{if(o==null||o(c),t&&c>=t){p.current+=t*1e3;let{shouldRepeat:y=!1,delay:f=0,newStartAt:k}=(i==null?void 0:i(p.current/1e3))||{};y&&(j.current=setTimeout(()=>h(k),f*1e3))}},[c,t]),q(()=>(s&&(m.current=requestAnimationFrame(g)),w),[s,t,n]),{elapsedTime:c,reset:h}},Me=(s,t,r)=>{let n=s/2,i=t/2,o=n-i,c=2*o,l=r==="clockwise"?"1,0":"0,1",a=2*Math.PI*o;return{path:`m ${n},${i} a ${o},${o} 0 ${l} 0,${c} a ${o},${o} 0 ${l} 0,-${c}`,pathLength:a}},z=(s,t)=>s===0||s===t?0:typeof t=="number"?s-t:0,Ue=s=>({position:"relative",width:s,height:s}),qe={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},X=(s,t,r,n,i)=>{if(n===0)return t;let o=(i?n-s:s)/n;return t+r*o},A=s=>{var t,r;return(r=(t=s.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(n,i,o,c)=>`#${i}${i}${o}${o}${c}${c}`).substring(1).match(/.{2}/g))==null?void 0:t.map(n=>parseInt(n,16)))!=null?r:[]},ze=(s,t)=>{var r;let{colors:n,colorsTime:i,isSmoothColorTransition:o=!0}=s;if(typeof n=="string")return n;let c=(r=i==null?void 0:i.findIndex((_,j)=>_>=t&&t>=i[j+1]))!=null?r:-1;if(!i||c===-1)return n[0];if(!o)return n[c];let l=i[c]-t,a=i[c]-i[c+1],d=A(n[c]),p=A(n[c+1]),m=!!s.isGrowing;return`rgb(${d.map((_,j)=>X(l,_,p[j]-_,a,m)|0).join(",")})`},Ae=s=>{let{duration:t,initialRemainingTime:r,updateInterval:n,size:i=180,strokeWidth:o=12,trailStrokeWidth:c,isPlaying:l=!1,isGrowing:a=!1,rotation:d="clockwise",onComplete:p,onUpdate:m}=s,_=u.useRef(),j=Math.max(o,c??0),{path:g,pathLength:w}=Me(i,j,d),{elapsedTime:h}=Fe({isPlaying:l,duration:t,startAt:z(t,r),updateInterval:n,onUpdate:typeof m=="function"?f=>{let k=Math.ceil(t-f);k!==_.current&&(_.current=k,m(k))}:void 0,onComplete:typeof p=="function"?f=>{var k;let{shouldRepeat:E,delay:B,newInitialRemainingTime:P}=(k=p(f))!=null?k:{};if(E)return{shouldRepeat:E,delay:B,newStartAt:z(t,P)}}:void 0}),y=t-h;return{elapsedTime:h,path:g,pathLength:w,remainingTime:Math.ceil(y),rotation:d,size:i,stroke:ze(s,y),strokeDashoffset:X(h,0,w,t,a),strokeWidth:o}},Z=s=>{let{children:t,strokeLinecap:r,trailColor:n,trailStrokeWidth:i}=s,{path:o,pathLength:c,stroke:l,strokeDashoffset:a,remainingTime:d,elapsedTime:p,size:m,strokeWidth:_}=Ae(s);return I.createElement("div",{style:Ue(m)},I.createElement("svg",{viewBox:`0 0 ${m} ${m}`,width:m,height:m,xmlns:"http://www.w3.org/2000/svg"},I.createElement("path",{d:o,fill:"none",stroke:n??"#d9d9d9",strokeWidth:i??_}),I.createElement("path",{d:o,fill:"none",stroke:l,strokeLinecap:r??"round",strokeWidth:_,strokeDasharray:c,strokeDashoffset:a})),typeof t=="function"&&I.createElement("div",{style:qe},t({remainingTime:d,elapsedTime:p,color:l})))};Z.displayName="CountdownCircleTimer";const De="_module_container_1ci5p_1",Oe="_left_side_1ci5p_7",Ve="_timer_1ci5p_13",Ge="_play_1ci5p_19",Ye="_calories_1ci5p_26",He="_calories_amount_1ci5p_32",Je="_right_side_1ci5p_36",Ke="_gif_1ci5p_43",Qe="_exercise_descr_1ci5p_49",Xe="_exercise_div_1ci5p_55",Ze="_type_1ci5p_67",es="_type_descr_1ci5p_73",ss="_button_1ci5p_117",x={module_container:De,left_side:Oe,timer:Ve,play:Ge,calories:Ye,calories_amount:He,right_side:Je,gif:Ke,exercise_descr:Qe,exercise_div:Xe,type:Ze,type_descr:es,button:ss},ts=({exercise:s,toggleExerciseModal:t,toggleSuccessModal:r,setExercise:n})=>{const[i,o]=u.useState(0),[c,l]=u.useState(0),[a,d]=u.useState(!1),p=D(),{date:m}=ae();u.useEffect(()=>{let h;return a?h=setInterval(()=>{o(y=>{const f=y+1;return console.log("duration",f),f===180&&(clearInterval(h),d(!1)),f})},1e3):clearInterval(h),()=>{clearInterval(h)}},[a,d]),u.useEffect(()=>{const h=(i/60*s.burnedCalories/3).toFixed();l(h)},[i,s.burnedCalories]);const _=()=>{d(h=>!h)},j=h=>h.charAt(0).toUpperCase()+h.slice(1),g=Math.floor(i/60),w=()=>{p(se({date:m,credentials:{doneExercises:[{exercise:s._id,time:g,calories:c}]}})),n({time:g,calories:c}),t(),r()};return e.jsxs("div",{className:x.module_container,children:[e.jsxs("div",{className:x.left_side,children:[e.jsx("img",{className:x.gif,src:s.gifUrl,alt:"Exercise technique"}),e.jsxs("div",{className:x.timer,children:[e.jsx(Z,{isPlaying:a,strokeWidth:4,duration:180,size:124,isGrowing:!0,rotation:"counterclockwise",colors:["#E6533C"],trailColor:["#323232"],children:({remainingTime:h})=>{const y=Math.floor(h/60),f=h%60;return`${String(y).padStart(2,"0")}:${String(f).padStart(2,"0")}`}}),!a&&e.jsx("svg",{className:x.play,onClick:_,children:e.jsx("use",{href:C+"#icon-play"})}),a&&e.jsx("svg",{className:x.play,onClick:_,children:e.jsx("use",{href:C+"#icon-pause-square"})}),e.jsxs("p",{className:x.calories,children:["Burned calories:"," ",e.jsx("span",{className:x.calories_amount,children:c})]})]})]}),e.jsxs("div",{className:x.right_side,children:[e.jsxs("div",{className:x.exercise_descr,children:[e.jsxs("div",{className:x.exercise_div,children:[e.jsx("p",{className:x.type,children:"Name"}),e.jsx("p",{className:x.type_descr,children:j(s.name)})]}),e.jsxs("div",{className:x.exercise_div,children:[e.jsx("p",{className:x.type,children:"Target"}),e.jsx("p",{className:x.type_descr,children:j(s.target)})]}),e.jsxs("div",{className:x.exercise_div,children:[e.jsx("p",{className:x.type,children:"Body Part"}),e.jsx("p",{className:x.type_descr,children:j(s.bodyPart)})]}),e.jsxs("div",{className:x.exercise_div,children:[e.jsx("p",{className:x.type,children:"Equipment"}),e.jsx("p",{className:x.type_descr,children:j(s.equipment)})]})]}),e.jsx("button",{type:"button",onClick:w,disabled:g<1,className:x.button,children:"Add to diary"})]})]})},is="_container_1kxge_1",ns="_pic_1kxge_10",rs="_welldone_1kxge_14",cs="_amount_container_1kxge_20",as="_text_1kxge_27",os="_amount_1kxge_20",ls="_links_1kxge_37",ds="_link_1kxge_37",us="_svg_1kxge_51",N={container:is,pic:ns,welldone:rs,amount_container:cs,text:as,amount:os,links:ls,link:ds,svg:us},ps="/power-pulse-front-end-react/assets/thumb_up-47cb592a.png",ms=({exercise:s,toggleSuccessModal:t})=>e.jsxs("div",{className:N.container,children:[e.jsx("img",{className:N.pic,src:ps,alt:"Well done"}),e.jsx("p",{className:N.welldone,children:"Well done"}),e.jsxs("div",{className:N.amount_container,children:[e.jsxs("p",{className:N.text,children:["Your time: ",e.jsx("span",{className:N.amount,children:s.time})]}),e.jsxs("p",{className:N.text,children:["Burned calories:"," ",e.jsx("span",{className:N.amount,children:s.calories})]})]}),e.jsxs("div",{className:N.links,children:[e.jsx(ce,{btnType:"button",onClick:t,text:"Next exercise"}),e.jsxs(te,{to:"/diary",className:N.link,children:["To the diary",e.jsx("svg",{className:N.svg,children:e.jsx("use",{href:C+"#icon-arrow-modal"})})]})]})]}),xs="_waistItemLi_1ub6x_1",_s="_btnWrapper_1ub6x_29",hs="_cardLabel_1ub6x_36",gs="_btnLabel_1ub6x_46",fs="_svgExercise_1ub6x_63",js="_exercisesTitleBox_1ub6x_73",ys="_title_1ub6x_78",bs="_svgExerciseRun_1ub6x_96",vs="_spanExerciseRun_1ub6x_105",Ns="_list_1ub6x_119",ks="_listItem_1ub6x_125",ws="_listItemValue_1ub6x_134",v={waistItemLi:xs,btnWrapper:_s,cardLabel:hs,btnLabel:gs,svgExercise:fs,exercisesTitleBox:js,title:ys,svgExerciseRun:bs,spanExerciseRun:vs,list:Ns,listItem:ks,listItemValue:ws},$={cardLabel:"Workout",btnLabel:"Start",list:{burnedCalories:"Burned calories:",bodyPart:"Body part:",target:"Target:"}},Es=({data:s})=>{const[t,r]=u.useState(!1),[n,i]=u.useState(!1),[o,c]=u.useState({}),l=p=>p.slice(0,1).toUpperCase()+p.slice(1),a=()=>{r(p=>!p),t===!0&&(document.body.style.overflow="auto"),t===!1&&(document.body.style.overflow="hidden")},d=()=>{i(p=>!p),n===!0&&(document.body.style.overflow="auto"),n===!1&&(document.body.style.overflow="hidden")};return e.jsxs("li",{className:v.waistItemLi,children:[e.jsxs("div",{className:v.btnWrapper,children:[e.jsx("p",{className:v.cardLabel,children:$.cardLabel}),e.jsxs("button",{className:v.btnLabel,type:"button",onClick:a,children:[$.btnLabel,e.jsx("svg",{className:v.svgExercise,children:e.jsx("use",{href:`${C}#icon-add-arrow`})})]})]}),e.jsxs("div",{className:v.exercisesTitleBox,children:[e.jsx("span",{className:v.spanExerciseRun,children:e.jsxs("svg",{className:v.svgExerciseRun,width:24,height:24,children:[e.jsx("use",{href:`${C}#icon-runn ing-figure`}),e.jsx("use",{href:`${C}#icon-running-stick-figure-svgrepo-com-1`})]})}),e.jsxs("h3",{className:v.title,children:[l(s.name)," "]})]}),t&&e.jsx(M,{onClose:a,children:e.jsx(ts,{exercise:s,toggleExerciseModal:a,toggleSuccessModal:d,setExercise:c})}),n&&e.jsx(M,{onClose:d,children:e.jsx(ms,{exercise:o,toggleSuccessModal:d})}),e.jsx("ul",{className:v.list,children:Object.keys($.list).map(p=>e.jsxs("li",{className:v.listItem,children:[$.list[p],e.jsx("span",{className:v.listItemValue,children:l(String(s[p]))})]},p))})]})},Ts="_waistListContainer_1wbzk_1",Cs="_imgWaist_1wbzk_5",Is="_waistItemUl_1wbzk_21",Ls="_noExercisesTitle_1wbzk_60",S={waistListContainer:Ts,imgWaist:Cs,waistItemUl:Is,noExercisesTitle:Ls},$s="/power-pulse-front-end-react/assets/Waist1-17196d5b.jpg",Ss=({activeName:s,activeFilter:t})=>{const{exercises:r}=V(),n=r.filter(i=>{if(t==="Body parts")return i.bodyPart===s;if(t==="Muscules")return i.target===s;if(t==="Equipment")return i.equipment===s});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:S.waistListContainer,children:[e.jsx("ul",{className:S.waistItemUl,children:n.length?n.slice(0,50).map(i=>e.jsx(Es,{data:i},i._id)):e.jsx("h2",{className:S.noExercisesTitle,children:"There are no exercises in this category, please try again later!"})}),e.jsx("img",{className:S.imgWaist,src:$s,alt:"Waist exercise image"})]})})},Ms=()=>{const[s,t]=u.useState("Body parts"),[r]=u.useState(""),[n,i]=u.useState(null),{bodyParts:o}=V(),c=D();u.useEffect(()=>{c(ie())},[c]),u.useEffect(()=>{c(ne())},[c]);const l=d=>d.slice(0,1).toUpperCase()+d.slice(1),a=d=>{t(d)};return e.jsx("div",{className:T.div,children:e.jsxs("div",{className:T.exercisesWrapper,children:[n&&e.jsxs("button",{type:"button",onClick:()=>i(""),className:T.btnBack,children:[e.jsx("svg",{className:T.svgBack,width:16,height:16,children:e.jsx("use",{href:re+"#icon-arrow-left"})}),"Back"]}),e.jsxs("div",{className:T.exercisesBox,children:[s!=="Waist"?e.jsx("h2",{className:T.exercisesTitle,children:"Exercises"}):e.jsx("h2",{className:T.exercisesTitle,children:l(r)}),e.jsx(K,{activeFilter:s,handleFilterClick:a,setActiveName:i})]}),n?e.jsx(Ss,{activeName:n,activeFilter:s}):e.jsxs(e.Fragment,{children:[s==="Body parts"&&e.jsx(W,{handleFilterClick:a,setActiveName:i,filters:o.bodyPart}),s==="Muscules"&&e.jsx(W,{handleFilterClick:a,setActiveName:i,filters:o.muscles}),s==="Equipment"&&e.jsx(W,{handleFilterClick:a,setActiveName:i,filters:o.equipment})]})]})})};export{Ms as default};
