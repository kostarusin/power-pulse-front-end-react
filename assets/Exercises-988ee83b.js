import{i as R,k as ie,R as I,r as p,u as B,j as e,l as re,L as ne,m as z,n as ae}from"./index-aca55580.js";import{B as ce,M as U}from"./ButtonModal-d3e527d9.js";import{i as T}from"./emotion-unitless.esm-74316637.js";import{u as oe}from"./useDiary-846b2c17.js";import{s as V}from"./styled-components.browser.esm-2bf85098.js";const le=s=>s.exercises.loading,G=s=>s.exercises.exercises,de=s=>s.exercises.bodyParts,Y=()=>{const s=R(le),t=R(G),i=R(de);return{loading:s,exercises:t,bodyParts:i}};var H={exports:{}},ue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",pe=ue,me=pe;function J(){}function K(){}K.resetWarningCache=J;var xe=function(){function s(r,a,c,n,l,o){if(o!==me){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}s.isRequired=s;function t(){return s}var i={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:t,element:s,elementType:s,instanceOf:t,node:s,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:K,resetWarningCache:J};return i.PropTypes=i,i};H.exports=xe();var Q=H.exports;const L=ie(Q);var A=typeof window>"u"?p.useEffect:p.useLayoutEffect,_e=({isPlaying:s,duration:t,startAt:i=0,updateInterval:r=0,onComplete:a,onUpdate:c})=>{let[n,l]=p.useState(i),o=p.useRef(0),d=p.useRef(i),m=p.useRef(i*-1e3),x=p.useRef(null),h=p.useRef(null),f=p.useRef(null),v=y=>{let g=y/1e3;if(h.current===null){h.current=g,x.current=requestAnimationFrame(v);return}let w=g-h.current,k=o.current+w;h.current=g,o.current=k;let q=d.current+(r===0?k:(k/r|0)*r),F=d.current+k,M=typeof t=="number"&&F>=t;l(M?t:q),M||(x.current=requestAnimationFrame(v))},E=()=>{x.current&&cancelAnimationFrame(x.current),f.current&&clearTimeout(f.current),h.current=null},u=p.useCallback(y=>{E(),o.current=0;let g=typeof y=="number"?y:i;d.current=g,l(g),s&&(x.current=requestAnimationFrame(v))},[s,i]);return A(()=>{if(c==null||c(n),t&&n>=t){m.current+=t*1e3;let{shouldRepeat:y=!1,delay:g=0,newStartAt:w}=(a==null?void 0:a(m.current/1e3))||{};y&&(f.current=setTimeout(()=>u(w),g*1e3))}},[n,t]),A(()=>(s&&(x.current=requestAnimationFrame(v)),E),[s,t,r]),{elapsedTime:n,reset:u}},he=(s,t,i)=>{let r=s/2,a=t/2,c=r-a,n=2*c,l=i==="clockwise"?"1,0":"0,1",o=2*Math.PI*c;return{path:`m ${r},${a} a ${c},${c} 0 ${l} 0,${n} a ${c},${c} 0 ${l} 0,-${n}`,pathLength:o}},D=(s,t)=>s===0||s===t?0:typeof t=="number"?s-t:0,ge=s=>({position:"relative",width:s,height:s}),fe={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},X=(s,t,i,r,a)=>{if(r===0)return t;let c=(a?r-s:s)/r;return t+i*c},O=s=>{var t,i;return(i=(t=s.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(r,a,c,n)=>`#${a}${a}${c}${c}${n}${n}`).substring(1).match(/.{2}/g))==null?void 0:t.map(r=>parseInt(r,16)))!=null?i:[]},ye=(s,t)=>{var i;let{colors:r,colorsTime:a,isSmoothColorTransition:c=!0}=s;if(typeof r=="string")return r;let n=(i=a==null?void 0:a.findIndex((h,f)=>h>=t&&t>=a[f+1]))!=null?i:-1;if(!a||n===-1)return r[0];if(!c)return r[n];let l=a[n]-t,o=a[n]-a[n+1],d=O(r[n]),m=O(r[n+1]),x=!!s.isGrowing;return`rgb(${d.map((h,f)=>X(l,h,m[f]-h,o,x)|0).join(",")})`},je=s=>{let{duration:t,initialRemainingTime:i,updateInterval:r,size:a=180,strokeWidth:c=12,trailStrokeWidth:n,isPlaying:l=!1,isGrowing:o=!1,rotation:d="clockwise",onComplete:m,onUpdate:x}=s,h=p.useRef(),f=Math.max(c,n??0),{path:v,pathLength:E}=he(a,f,d),{elapsedTime:u}=_e({isPlaying:l,duration:t,startAt:D(t,i),updateInterval:r,onUpdate:typeof x=="function"?g=>{let w=Math.ceil(t-g);w!==h.current&&(h.current=w,x(w))}:void 0,onComplete:typeof m=="function"?g=>{var w;let{shouldRepeat:k,delay:q,newInitialRemainingTime:F}=(w=m(g))!=null?w:{};if(k)return{shouldRepeat:k,delay:q,newStartAt:D(t,F)}}:void 0}),y=t-u;return{elapsedTime:u,path:v,pathLength:E,remainingTime:Math.ceil(y),rotation:d,size:a,stroke:ye(s,y),strokeDashoffset:X(u,0,E,t,o),strokeWidth:c}},Z=s=>{let{children:t,strokeLinecap:i,trailColor:r,trailStrokeWidth:a}=s,{path:c,pathLength:n,stroke:l,strokeDashoffset:o,remainingTime:d,elapsedTime:m,size:x,strokeWidth:h}=je(s);return I.createElement("div",{style:ge(x)},I.createElement("svg",{viewBox:`0 0 ${x} ${x}`,width:x,height:x,xmlns:"http://www.w3.org/2000/svg"},I.createElement("path",{d:c,fill:"none",stroke:r??"#d9d9d9",strokeWidth:a??h}),I.createElement("path",{d:c,fill:"none",stroke:l,strokeLinecap:i??"round",strokeWidth:h,strokeDasharray:n,strokeDashoffset:o})),typeof t=="function"&&I.createElement("div",{style:fe},t({remainingTime:d,elapsedTime:m,color:l})))};Z.displayName="CountdownCircleTimer";const ve="_module_container_14xwa_5",be="_left_side_14xwa_11",Ne="_timer_14xwa_17",we="_play_14xwa_23",Ee="_calories_14xwa_30",ke="_calories_amount_14xwa_36",Te="_right_side_14xwa_40",Ie="_gif_14xwa_47",Ce="_exercise_descr_14xwa_53",Le="_exercise_div_14xwa_59",Pe="_type_14xwa_70",$e="_type_descr_14xwa_76",Se="_button_14xwa_117",_={module_container:ve,left_side:be,timer:Ne,play:we,calories:Ee,calories_amount:ke,right_side:Te,gif:Ie,exercise_descr:Ce,exercise_div:Le,type:Pe,type_descr:$e,button:Se},Re=({exercise:s,toggleExerciseModal:t,toggleSuccessModal:i,setExercise:r})=>{const[a,c]=p.useState(0),[n,l]=p.useState(0),[o,d]=p.useState(!1),m=B(),{date:x}=oe();p.useEffect(()=>{let u;return o?u=setInterval(()=>{c(y=>{const g=y+1;return console.log("duration",g),g===180&&(clearInterval(u),d(!1)),g})},1e3):clearInterval(u),()=>{clearInterval(u)}},[o,d]),p.useEffect(()=>{const u=(a/60*s.burnedCalories/3).toFixed();l(u)},[a,s.burnedCalories]);const h=()=>{d(u=>!u)},f=u=>u.charAt(0).toUpperCase()+u.slice(1),v=Math.floor(a/60),E=()=>{m(re({date:x,credentials:{doneExercises:[{exercise:s._id,time:v,calories:n}]}})),r({time:v,calories:n}),t(),i()};return e.jsxs("div",{className:_.module_container,children:[e.jsxs("div",{className:_.left_side,children:[e.jsx("img",{className:_.gif,src:s.gifUrl,alt:"Exercise technique"}),e.jsxs("div",{className:_.timer,children:[e.jsx(Z,{isPlaying:o,strokeWidth:4,duration:180,size:124,isGrowing:!0,rotation:"counterclockwise",colors:["#E6533C"],trailColor:["#323232"],children:({remainingTime:u})=>{const y=Math.floor(u/60),g=u%60;return`${String(y).padStart(2,"0")}:${String(g).padStart(2,"0")}`}}),!o&&e.jsx("svg",{className:_.play,onClick:h,children:e.jsx("use",{href:T+"#icon-play"})}),o&&e.jsx("svg",{className:_.play,onClick:h,children:e.jsx("use",{href:T+"#icon-pause-square"})}),e.jsxs("p",{className:_.calories,children:["Burned calories:"," ",e.jsx("span",{className:_.calories_amount,children:n})]})]})]}),e.jsxs("div",{className:_.right_side,children:[e.jsxs("div",{className:_.exercise_descr,children:[e.jsxs("div",{className:_.exercise_div,children:[e.jsx("p",{className:_.type,children:"Name"}),e.jsx("p",{className:_.type_descr,children:f(s.name)})]}),e.jsxs("div",{className:_.exercise_div,children:[e.jsx("p",{className:_.type,children:"Target"}),e.jsx("p",{className:_.type_descr,children:f(s.target)})]}),e.jsxs("div",{className:_.exercise_div,children:[e.jsx("p",{className:_.type,children:"Body Part"}),e.jsx("p",{className:_.type_descr,children:f(s.bodyPart)})]}),e.jsxs("div",{className:_.exercise_div,children:[e.jsx("p",{className:_.type,children:"Equipment"}),e.jsx("p",{className:_.type_descr,children:f(s.equipment)})]})]}),e.jsx("button",{type:"button",onClick:E,disabled:v<1,className:_.button,children:"Add to diary"})]})]})},We="_container_1kxge_1",Be="_pic_1kxge_10",qe="_welldone_1kxge_14",Fe="_amount_container_1kxge_20",ze="_text_1kxge_27",Me="_amount_1kxge_20",Ue="_links_1kxge_37",Ae="_link_1kxge_37",De="_svg_1kxge_51",N={container:We,pic:Be,welldone:qe,amount_container:Fe,text:ze,amount:Me,links:Ue,link:Ae,svg:De},Oe="/power-pulse-front-end-react/assets/thumb_up-47cb592a.png",Ve=({exercise:s})=>e.jsxs("div",{className:N.container,children:[e.jsx("img",{className:N.pic,src:Oe,alt:"Well done"}),e.jsx("p",{className:N.welldone,children:"Well done"}),e.jsxs("div",{className:N.amount_container,children:[e.jsxs("p",{className:N.text,children:["Your time: ",e.jsx("span",{className:N.amount,children:s.time})]}),e.jsxs("p",{className:N.text,children:["Burned calories:"," ",e.jsx("span",{className:N.amount,children:s.calories})]})]}),e.jsxs("div",{className:N.links,children:[e.jsx(ce,{btnType:"button",text:"Next exercise"}),e.jsxs(ne,{to:"/diary",className:N.link,children:["To the diary",e.jsx("svg",{className:N.svg,children:e.jsx("use",{href:T+"#icon-arrow-modal"})})]})]})]}),Ge="_waistItemLi_1gzq2_1",Ye="_btnWrapper_1gzq2_33",He="_cardLabel_1gzq2_40",Je="_btnLabel_1gzq2_51",Ke="_svgExercise_1gzq2_71",Qe="_exercisesTitleBox_1gzq2_81",Xe="_title_1gzq2_86",Ze="_svgExerciseRun_1gzq2_104",es="_spanExerciseRun_1gzq2_109",ss="_list_1gzq2_121",ts="_listItem_1gzq2_127",is="_listItemValue_1gzq2_136",b={waistItemLi:Ge,btnWrapper:Ye,cardLabel:He,btnLabel:Je,svgExercise:Ke,exercisesTitleBox:Qe,title:Xe,svgExerciseRun:Ze,spanExerciseRun:es,list:ss,listItem:ts,listItemValue:is},P={cardLabel:"Workout",btnLabel:"Start",list:{burnedCalories:"Burned calories:",bodyPart:"Body part:",target:"Target:"}},rs=({data:s})=>{console.log(s);const[t,i]=p.useState(!1),[r,a]=p.useState(!1),[c,n]=p.useState({}),l=m=>m.slice(0,1).toUpperCase()+m.slice(1),o=()=>{i(m=>!m)},d=()=>{a(m=>!m)};return e.jsxs("li",{className:b.waistItemLi,children:[e.jsxs("div",{className:b.btnWrapper,children:[e.jsx("p",{className:b.cardLabel,children:P.cardLabel}),e.jsxs("button",{className:b.btnLabel,type:"button",onClick:o,children:[P.btnLabel,e.jsx("span",{children:e.jsx("svg",{className:b.svgExercise,children:e.jsx("use",{href:`${T}#icon-add-arrow`})})})]})]}),e.jsxs("div",{className:b.exercisesTitleBox,children:[e.jsx("span",{className:b.spanExerciseRun,children:e.jsxs("svg",{className:b.svgExerciseRun,width:24,height:24,children:[e.jsx("use",{href:`${T}#icon-runn ing-figure`}),e.jsx("use",{href:`${T}#icon-running-stick-figure-svgrepo-com-1`})]})}),e.jsxs("h3",{className:b.title,children:[l(s.name)," "]})]}),t&&e.jsx(U,{onClose:o,children:e.jsx(Re,{exercise:s,toggleExerciseModal:o,toggleSuccessModal:d,setExercise:n})}),r&&e.jsx(U,{onClose:d,children:e.jsx(Ve,{exercise:c})}),e.jsx("ul",{className:b.list,children:Object.keys(P.list).map(m=>e.jsxs("li",{className:b.listItem,children:[P.list[m],e.jsx("span",{className:b.listItemValue,children:l(String(s[m]))})]},m))})]})},ns="_waistListContainer_7c63l_1",as="_imgWaist_7c63l_5",cs="_waistItemUl_7c63l_18",os="_noExercisesTitle_7c63l_58",$={waistListContainer:ns,imgWaist:as,waistItemUl:cs,noExercisesTitle:os},ls="/power-pulse-front-end-react/assets/Waist1-17196d5b.jpg",ee=({activeName:s})=>{const t=R(G);console.log(t);const i=t.filter(r=>r.bodyPart===s);return console.log(s),console.log("Filtered Exercises:",i),e.jsx(e.Fragment,{children:e.jsxs("div",{className:$.waistListContainer,children:[e.jsx("ul",{className:$.waistItemUl,children:i.length?i.slice(0,50).map(r=>e.jsx(rs,{data:r},r._id)):e.jsx("h2",{className:$.noExercisesTitle,children:"There are no exercises in this category, please try again later!"})}),e.jsx("img",{className:$.imgWaist,src:ls,alt:"Waist exercise image"})]})})},ds="_div_1gyia_1",us={div:ds},ps="_exercisesUl_705hr_1",ms={exercisesUl:ps},xs="_exercisesLi_1pbc6_1",_s="_image_1pbc6_6",hs="_titleContainer_1pbc6_29",gs="_exerciseItemTitle_1pbc6_43",fs="_exerciseItemText_1pbc6_55",C={exercisesLi:xs,image:_s,titleContainer:hs,exerciseItemTitle:gs,exerciseItemText:fs},ys="/power-pulse-front-end-react/assets/0-default-fa91a1ec.jpg",se=({exercisesItem:s,setActiveName:t})=>{const{name:i,filter:r,imgURL:a}=s,c=n=>n.slice(0,1).toUpperCase()+n.slice(1);return e.jsxs("li",{className:C.exercisesLi,onClick:()=>t(s.name),children:[e.jsx("img",{className:C.image,src:a||ys,alt:i}),e.jsxs("div",{className:C.titleContainer,children:[e.jsx("h3",{className:C.exerciseItemTitle,children:c(i)}),e.jsx("p",{className:C.exerciseItemtext,children:r})]})]})};se.propTypes={exercisesItem:Q.PropTypes.object};const js="/power-pulse-front-end-react/assets/sprite-2fdf8fa9.svg",vs=V.div`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding-bottom: 90px;
  height: 100vh;

  ul.pagination {
    display: flex;
    list-style: none;
    padding: 0;
    justify-content: center;
    margin-top: 32px;
  }

  li.page-item {
    margin: 0 4px;
  }

  button.page-link {
    border: none;
    background-color: #fff;
    padding: 0;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    cursor: pointer;
    transition: background-color 0.2s ease;
    font-size: 0;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  button.page-link:not(.active) {
    background-color: rgba(239, 237, 232, 0.1);
  }

  li.page-item.active button.page-link {
    padding: 0;
  }

  li.page-item.active button.page-link svg {
    width: 14px;
    height: 14px;
  }

  @media screen and (min-width: 768px) {
  }

  @media screen and (min-width: 1440px) {
    justify-content: baseline;
    height: 100%;
  }
`,bs=V.li`
  margin-top: 32px;
`,Ns=({itemsPerPage:s,totalItems:t,currentPage:i,onPageChange:r})=>{const a=Math.ceil(t/s),c=l=>{l>=1&&l<=a&&r(l)},n=()=>{const l=[];for(let o=1;o<=a;o++)l.push(e.jsx(bs,{className:`page-item ${o===i?"active":""}`,children:e.jsxs("button",{className:"page-link",onClick:()=>c(o),children:[o,o===i&&e.jsx("svg",{children:e.jsx("use",{href:`${js}#pagination-btn`})})]})},o));return l};return e.jsx("nav",{"aria-label":"Pagination",children:e.jsx("ul",{className:"pagination",children:n()})})},W=({handleFilterClick:s,handleSetExName:t,setActiveName:i,filters:r})=>{const a=B();p.useEffect(()=>{a(z())},[a]);const{bodyParts:c}=Y(),[n,l]=p.useState(1),o=()=>{const u=window.innerWidth;return u>=768&&u<=1439?9:10},[d,m]=p.useState(o),x=()=>{m(o())};p.useEffect(()=>(window.addEventListener("resize",x),x(),()=>{window.removeEventListener("resize",x)}),[]);const h=u=>{l(u)},f=n*d,v=f-d,E=r.bodyPart?c.bodyPart.slice(v,f):[];return e.jsxs(vs,{children:[e.jsx("ul",{className:ms.exercisesUl,children:E.map(u=>e.jsx(se,{exercisesItem:u,handleFilterClick:s,handleSetExName:t,setActiveName:i},u._id))}),d<c.bodyPart&&d<c.bodyPart.length&&e.jsx(Ns,{itemsPerPage:d,totalItems:c.bodyPart.length,currentPage:n,onPageChange:h})]})};W.propTypes={bodyParts:L.array};const ws="_exercisesWrapper_o5r5l_2",Es="_exercisesBox_o5r5l_18",ks="_exercisesTitle_o5r5l_24",S={exercisesWrapper:ws,exercisesBox:Es,exercisesTitle:ks};L.array;L.array;const Ts="_ExercisesNavList_1gj7q_1",Is="_ExercisesFilter_1gj7q_19",Cs="_active_1gj7q_35",Ls="_FilterBtn_1gj7q_67",j={ExercisesNavList:Ts,ExercisesFilter:Is,active:Cs,FilterBtn:Ls},te=({activeFilter:s,handleFilterClick:t})=>e.jsxs("ul",{className:j.ExercisesNavList,children:[e.jsx("li",{className:`${j.ExercisesFilter} ${s==="Body parts"?j.active:""}`,children:e.jsx("button",{type:"button",onClick:()=>t("Body parts"),className:`${j.FilterBtn} ${-s==="Body parts"?j.active:""}`,children:"Body parts"})}),e.jsx("li",{className:`${j.ExercisesFilter} ${s==="Muscules"?j.active:""}`,children:e.jsx("button",{type:"button",onClick:()=>t("Muscules"),className:`${j.FilterBtn} ${s==="Muscules"?j.active:""}`,children:"Muscles"})}),e.jsx("li",{className:`${j.ExercisesFilter} ${s==="Equipment"?j.active:""}`,children:e.jsx("button",{type:"button",onClick:()=>t("Equipment"),className:`${j.FilterBtn} ${s==="Equipment"?j.active:""}`,children:"Equipment"})})]});te.propTypes={activeFilter:L.string,handleFilterClick:L.func};const Ps=({setActiveName:s})=>{const[t,i]=p.useState("Body parts"),[r,a]=p.useState(""),c=B();p.useEffect(()=>{c(z())},[c]);const{bodyParts:n}=Y();console.log(n);const l=d=>{i(d)};console.log(t);const o=d=>d.slice(0,1).toUpperCase()+d.slice(1);return e.jsxs("div",{className:S.exercisesWrapper,children:[e.jsxs("li",{className:S.exercisesBox,children:[t!=="Waist"?e.jsx("h2",{className:S.exercisesTitle,children:"Exercises"}):e.jsx("h2",{className:S.exercisesTitle,children:o(r)}),e.jsx(te,{activeFilter:t,handleFilterClick:l})]}),t==="Body parts"&&e.jsx(W,{handleFilterClick:l,setActiveName:s,filters:n.bodyPart}),t==="Muscules"&&e.jsx(W,{handleFilterClick:l,setActiveName:s,filters:n.muscles}),t==="Equipment"&&e.jsx(W,{handleFilterClick:l,setActiveName:s,filters:n.equipment}),t==="Waist"&&e.jsx(ee,{exerciseName:r})]})},qs=()=>{const s=B(),[t,i]=p.useState(null);return console.log(t),p.useEffect(()=>{s(ae())},[s]),p.useEffect(()=>{s(z())},[s]),e.jsx("div",{className:us.div,children:t?e.jsx(ee,{activeName:t}):e.jsx(Ps,{setActiveName:i})})};export{qs as default};
