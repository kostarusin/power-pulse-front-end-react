import{r as p,a as I,j as r,x as w}from"./index-703c4803.js";const L="_modal_backdrop_1ymlb_1",M="_modal_content_1ymlb_10",q="_close_x_1ymlb_23",C={modal_backdrop:L,modal_content:M,close_x:q},E="/power-pulse-front-end-react/assets/sprite-d0bb77e8.svg",W=document.querySelector("#modal-root"),F=({onClose:t,children:e})=>{p.useEffect(()=>{const s=i=>{i.code==="Escape"&&(console.log("1",1),t())};return window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}},[t]);const a=s=>{s.currentTarget===s.target&&t()},n=()=>{t()};return I.createPortal(r.jsx("div",{className:C.modal_backdrop,onClick:a,children:r.jsxs("div",{className:C.modal_content,children:[r.jsx("svg",{className:C.close_x,onClick:n,children:r.jsx("use",{href:E+"#icon-x"})}),e]})}),W)};var z=typeof window>"u"?p.useEffect:p.useLayoutEffect,D=({isPlaying:t,duration:e,startAt:a=0,updateInterval:n=0,onComplete:s,onUpdate:i})=>{let[l,u]=p.useState(a),_=p.useRef(0),h=p.useRef(a),x=p.useRef(a*-1e3),o=p.useRef(null),d=p.useRef(null),g=p.useRef(null),j=y=>{let m=y/1e3;if(d.current===null){d.current=m,o.current=requestAnimationFrame(j);return}let f=m-d.current,v=_.current+f;d.current=m,_.current=v;let N=h.current+(n===0?v:(v/n|0)*n),$=h.current+v,T=typeof e=="number"&&$>=e;u(T?e:N),T||(o.current=requestAnimationFrame(j))},b=()=>{o.current&&cancelAnimationFrame(o.current),g.current&&clearTimeout(g.current),d.current=null},k=p.useCallback(y=>{b(),_.current=0;let m=typeof y=="number"?y:a;h.current=m,u(m),t&&(o.current=requestAnimationFrame(j))},[t,a]);return z(()=>{if(i==null||i(l),e&&l>=e){x.current+=e*1e3;let{shouldRepeat:y=!1,delay:m=0,newStartAt:f}=(s==null?void 0:s(x.current/1e3))||{};y&&(g.current=setTimeout(()=>k(f),m*1e3))}},[l,e]),z(()=>(t&&(o.current=requestAnimationFrame(j)),b),[t,e,n]),{elapsedTime:l,reset:k}},B=(t,e,a)=>{let n=t/2,s=e/2,i=n-s,l=2*i,u=a==="clockwise"?"1,0":"0,1",_=2*Math.PI*i;return{path:`m ${n},${s} a ${i},${i} 0 ${u} 0,${l} a ${i},${i} 0 ${u} 0,-${l}`,pathLength:_}},R=(t,e)=>t===0||t===e?0:typeof e=="number"?t-e:0,U=t=>({position:"relative",width:t,height:t}),G={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},A=(t,e,a,n,s)=>{if(n===0)return e;let i=(s?n-t:t)/n;return e+a*i},S=t=>{var e,a;return(a=(e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(n,s,i,l)=>`#${s}${s}${i}${i}${l}${l}`).substring(1).match(/.{2}/g))==null?void 0:e.map(n=>parseInt(n,16)))!=null?a:[]},K=(t,e)=>{var a;let{colors:n,colorsTime:s,isSmoothColorTransition:i=!0}=t;if(typeof n=="string")return n;let l=(a=s==null?void 0:s.findIndex((d,g)=>d>=e&&e>=s[g+1]))!=null?a:-1;if(!s||l===-1)return n[0];if(!i)return n[l];let u=s[l]-e,_=s[l]-s[l+1],h=S(n[l]),x=S(n[l+1]),o=!!t.isGrowing;return`rgb(${h.map((d,g)=>A(u,d,x[g]-d,_,o)|0).join(",")})`},O=t=>{let{duration:e,initialRemainingTime:a,updateInterval:n,size:s=180,strokeWidth:i=12,trailStrokeWidth:l,isPlaying:u=!1,isGrowing:_=!1,rotation:h="clockwise",onComplete:x,onUpdate:o}=t,d=p.useRef(),g=Math.max(i,l??0),{path:j,pathLength:b}=B(s,g,h),{elapsedTime:k}=D({isPlaying:u,duration:e,startAt:R(e,a),updateInterval:n,onUpdate:typeof o=="function"?m=>{let f=Math.ceil(e-m);f!==d.current&&(d.current=f,o(f))}:void 0,onComplete:typeof x=="function"?m=>{var f;let{shouldRepeat:v,delay:N,newInitialRemainingTime:$}=(f=x(m))!=null?f:{};if(v)return{shouldRepeat:v,delay:N,newStartAt:R(e,$)}}:void 0}),y=e-k;return{elapsedTime:k,path:j,pathLength:b,remainingTime:Math.ceil(y),rotation:h,size:s,stroke:K(t,y),strokeDashoffset:A(k,0,b,e,_),strokeWidth:i}},P=t=>{let{children:e,strokeLinecap:a,trailColor:n,trailStrokeWidth:s}=t,{path:i,pathLength:l,stroke:u,strokeDashoffset:_,remainingTime:h,elapsedTime:x,size:o,strokeWidth:d}=O(t);return w.createElement("div",{style:U(o)},w.createElement("svg",{viewBox:`0 0 ${o} ${o}`,width:o,height:o,xmlns:"http://www.w3.org/2000/svg"},w.createElement("path",{d:i,fill:"none",stroke:n??"#d9d9d9",strokeWidth:s??d}),w.createElement("path",{d:i,fill:"none",stroke:u,strokeLinecap:a??"round",strokeWidth:d,strokeDasharray:l,strokeDashoffset:_})),typeof e=="function"&&w.createElement("div",{style:G},e({remainingTime:h,elapsedTime:x,color:u})))};P.displayName="CountdownCircleTimer";const H="_module_container_14pez_5",J="_left_side_14pez_11",Q="_timer_14pez_17",V="_play_14pez_23",X="_calories_14pez_30",Y="_calories_amount_14pez_36",Z="_right_side_14pez_40",ee="_gif_14pez_47",te="_exercise_descr_14pez_53",se="_exercise_div_14pez_59",re="_type_14pez_70",ne="_type_descr_14pez_76",c={module_container:H,left_side:J,timer:Q,play:V,calories:X,calories_amount:Y,right_side:Z,gif:ee,exercise_descr:te,exercise_div:se,type:re,type_descr:ne},ie="_button_103xp_1",ae={button:ie},le=({btnType:t,text:e})=>r.jsx("button",{type:t,className:ae.button,children:e}),ce=({exercise:t})=>{const[e,a]=p.useState(!1),n=()=>{a(i=>!i)},s=i=>i.charAt(0).toUpperCase()+i.slice(1);return r.jsxs("div",{className:c.module_container,children:[r.jsxs("div",{className:c.left_side,children:[r.jsx("img",{className:c.gif,src:t.gifUrl,alt:"Exercise technique"}),r.jsxs("div",{className:c.timer,children:[r.jsx(P,{isPlaying:e,strokeWidth:4,duration:180,size:124,isGrowing:!0,rotation:"counterclockwise",colors:["#E6533C"],trailColor:["#323232"],children:({remainingTime:i})=>{const l=Math.floor(i/60),u=i%60;return`${String(l).padStart(2,"0")}:${String(u).padStart(2,"0")}`}}),!e&&r.jsx("svg",{className:c.play,onClick:n,children:r.jsx("use",{href:E+"#icon-x"})}),e&&r.jsx("svg",{className:c.play,onClick:n,children:r.jsx("use",{href:E+"#icon-x"})}),r.jsxs("p",{className:c.calories,children:["Burned calories: ",r.jsx("span",{className:c.calories_amount,children:"0"})]})]})]}),r.jsxs("div",{className:c.right_side,children:[r.jsxs("div",{className:c.exercise_descr,children:[r.jsxs("div",{className:c.exercise_div,children:[r.jsx("p",{className:c.type,children:"Name"}),r.jsx("p",{className:c.type_descr,children:s(t.name)})]}),r.jsxs("div",{className:c.exercise_div,children:[r.jsx("p",{className:c.type,children:"Target"}),r.jsx("p",{className:c.type_descr,children:s(t.target)})]}),r.jsxs("div",{className:c.exercise_div,children:[r.jsx("p",{className:c.type,children:"Body Part"}),r.jsx("p",{className:c.type_descr,children:s(t.bodyPart)})]}),r.jsxs("div",{className:c.exercise_div,children:[r.jsx("p",{className:c.type,children:"Equipment"}),r.jsx("p",{className:c.type_descr,children:s(t.equipment)})]})]}),r.jsx(le,{btnType:"button",text:"Add to diary"})]})]})},de=()=>{const[t,e]=p.useState(!1),a=()=>{e(s=>!s)},n={_id:"64f2458d6f67bc34bae4f813",bodyPart:"upper arms",equipment:"barbell",gifUrl:"https://ftp.goit.study/img/power-pulse/gifs/0038.gif",name:"barbell drag curl",target:"biceps",burnedCalories:84,time:3};return r.jsxs("div",{children:["Exercises",r.jsx("button",{type:"button",onClick:a,children:"TEST Open exercise"}),t&&r.jsx(F,{onClose:a,children:r.jsx(ce,{exercise:n})})]})};export{de as default};
