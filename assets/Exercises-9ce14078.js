import{k as W,l as ee,j as e,r as p,x as L,u as O,i as C,m as se,L as te,n as ie,c as ne,o as re,p as ae,s as ce}from"./index-0f725adf.js";import{s as V}from"./styled-components.browser.esm-e4c50f9c.js";import{B as oe,M}from"./ButtonModal-af1cb224.js";import{u as le}from"./useDiary-aab9a71c.js";import{L as de}from"./Loader-fd063527.js";import"./emotion-unitless.esm-475d8cc4.js";const ue=s=>s.exercises.isLoading,me=s=>s.exercises.exercises,pe=s=>s.exercises.bodyParts,F=()=>{const s=W(ue),t=W(me),i=W(pe);return{loading:s,exercises:t,bodyParts:i}};var G={exports:{}},xe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_e=xe,he=_e;function Y(){}function H(){}H.resetWarningCache=Y;var ge=function(){function s(n,r,a,c,d,l){if(l!==he){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}s.isRequired=s;function t(){return s}var i={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:t,element:s,elementType:s,instanceOf:t,node:s,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:H,resetWarningCache:Y};return i.PropTypes=i,i};G.exports=ge();var J=G.exports;const U=ee(J),fe="_exercisesWrapper_14gq7_5",ve="_exercisesBox_14gq7_18",ye="_exercisesTitle_14gq7_32",je="_div_14gq7_43",be="_btnBack_14gq7_69",Ne="_svgBack_14gq7_85",ke="_buttonsWrapper_14gq7_90",Ee="_activeClass_14gq7_101",we="_head_14gq7_109",E={exercisesWrapper:fe,exercisesBox:ve,exercisesTitle:ye,div:je,btnBack:be,svgBack:Ne,buttonsWrapper:ke,activeClass:Ee,head:we},Te="_ExercisesNavList_n1dpz_1",Ce="_ExercisesFilter_n1dpz_27",Le="_active_n1dpz_43",Ie="_FilterBtn_n1dpz_75",j={ExercisesNavList:Te,ExercisesFilter:Ce,active:Le,FilterBtn:Ie},K=({exercisesFiler:s,handleFilterClick:t,setActiveName:i})=>e.jsxs("ul",{className:j.ExercisesNavList,children:[e.jsx("li",{className:`${j.ExercisesFilter} ${s==="Body parts"?j.active:""}`,children:e.jsx("button",{type:"button",onClick:()=>{t("Body parts"),i("")},className:`${j.FilterBtn} ${s==="Body parts"?j.active:""}`,children:"Body parts"})}),e.jsx("li",{className:`${j.ExercisesFilter} ${s==="Muscules"?j.active:""}`,children:e.jsx("button",{type:"button",onClick:()=>{t("Muscules"),i("")},className:`${j.FilterBtn} ${s==="Muscules"?j.active:""}`,children:"Muscles"})}),e.jsx("li",{className:`${j.ExercisesFilter} ${s==="Equipment"?j.active:""}`,children:e.jsx("button",{type:"button",onClick:()=>{t("Equipment"),i("")},className:`${j.FilterBtn} ${s==="Equipment"?j.active:""}`,children:"Equipment"})})]});K.propTypes={exercisesFiler:U.string,handleFilterClick:U.func};const $e="_exercisesUl_145ot_1",Se={exercisesUl:$e},Pe="_exercisesLi_1e42v_1",Be="_image_1e42v_8",We="_exerciseItemTitle_1e42v_35",Re="_exerciseItemtext_1e42v_38",Fe="_titleContainer_1e42v_43",I={exercisesLi:Pe,image:Be,exerciseItemTitle:We,exerciseItemtext:Re,titleContainer:Fe},qe="/power-pulse-front-end-react/assets/0-default-fa91a1ec.jpg",Q=({exercisesItem:s,setActiveName:t})=>{const{name:i,filter:n,imgURL:r}=s,a=c=>c.slice(0,1).toUpperCase()+c.slice(1);return e.jsxs("li",{className:I.exercisesLi,onClick:()=>t(s.name),children:[e.jsx("img",{className:I.image,src:r||qe,alt:i}),e.jsxs("div",{className:I.titleContainer,children:[e.jsx("h3",{className:I.exerciseItemTitle,children:a(i)}),e.jsx("p",{className:I.exerciseItemtext,children:n})]})]})};Q.propTypes={exercisesItem:J.PropTypes.object};const Me="/power-pulse-front-end-react/assets/sprite-2fdf8fa9.svg",Ue=V.div`
  display: flex;
  flex-direction: column;
  padding-bottom: 90px;

  ul.pagination {
    display: flex;
    list-style: none;
    padding: 0;
    justify-content: center;
    margin-top: 32px;
  }

  li.page-item {
    margin: 0 4px;
  }

  button.page-link {
    border: none;
    background-color: #fff;
    padding: 0;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    cursor: pointer;
    transition: background-color 0.2s ease;
    font-size: 0;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  nav.pagination-nav {
    padding-bottom: 90px;
  }

  button.page-link:not(.active) {
    background-color: rgba(239, 237, 232, 0.1);
  }

  li.page-item.active button.page-link {
    padding: 0;
  }

  li.page-item.active button.page-link svg {
    width: 14px;
    height: 14px;
  }

`,ze=V.li`
  margin-top: 32px;
`,Ae=({itemsPerPage:s,totalItems:t,currentPage:i,onPageChange:n})=>{const r=Math.ceil(t/s),a=d=>{d>=1&&d<=r&&n(d)},c=()=>{const d=[];for(let l=1;l<=r;l++)d.push(e.jsx(ze,{className:`page-item ${l===i?"active":""}`,children:e.jsxs("button",{className:"page-link",onClick:()=>a(l),children:[l,l===i&&e.jsx("svg",{children:e.jsx("use",{href:`${Me}#pagination-btn`})})]})},l));return d};return e.jsx("nav",{"aria-label":"Pagination",className:"pagination-nav",children:e.jsx("ul",{className:"pagination",children:c()})})},R=({handleFilterClick:s,handleSetExName:t,setActiveName:i,filters:n})=>{const[r,a]=p.useState(1),c=()=>{const g=window.innerWidth;return g>=768&&g<=1439?9:10},[d,l]=p.useState(c),u=()=>{l(c())};p.useEffect(()=>(window.addEventListener("resize",u),u(),()=>{window.removeEventListener("resize",u)}),[]);const h=g=>{a(g)},o=r*d,m=o-d,f=n?n.slice(m,o):[];return e.jsxs(Ue,{children:[e.jsx("ul",{className:Se.exercisesUl,children:f.map(g=>e.jsx(Q,{exercisesItem:g,handleFilterClick:s,handleSetExName:t,setActiveName:i},g._id))}),n&&d<n.length&&e.jsx(Ae,{itemsPerPage:d,totalItems:n.length,currentPage:r,onPageChange:h})]})};var z=typeof window>"u"?p.useEffect:p.useLayoutEffect,De=({isPlaying:s,duration:t,startAt:i=0,updateInterval:n=0,onComplete:r,onUpdate:a})=>{let[c,d]=p.useState(i),l=p.useRef(0),u=p.useRef(i),h=p.useRef(i*-1e3),o=p.useRef(null),m=p.useRef(null),f=p.useRef(null),g=y=>{let v=y/1e3;if(m.current===null){m.current=v,o.current=requestAnimationFrame(g);return}let k=v-m.current,T=l.current+k;m.current=v,l.current=T;let P=u.current+(n===0?T:(T/n|0)*n),B=u.current+T,q=typeof t=="number"&&B>=t;d(q?t:P),q||(o.current=requestAnimationFrame(g))},w=()=>{o.current&&cancelAnimationFrame(o.current),f.current&&clearTimeout(f.current),m.current=null},_=p.useCallback(y=>{w(),l.current=0;let v=typeof y=="number"?y:i;u.current=v,d(v),s&&(o.current=requestAnimationFrame(g))},[s,i]);return z(()=>{if(a==null||a(c),t&&c>=t){h.current+=t*1e3;let{shouldRepeat:y=!1,delay:v=0,newStartAt:k}=(r==null?void 0:r(h.current/1e3))||{};y&&(f.current=setTimeout(()=>_(k),v*1e3))}},[c,t]),z(()=>(s&&(o.current=requestAnimationFrame(g)),w),[s,t,n]),{elapsedTime:c,reset:_}},Oe=(s,t,i)=>{let n=s/2,r=t/2,a=n-r,c=2*a,d=i==="clockwise"?"1,0":"0,1",l=2*Math.PI*a;return{path:`m ${n},${r} a ${a},${a} 0 ${d} 0,${c} a ${a},${a} 0 ${d} 0,-${c}`,pathLength:l}},A=(s,t)=>s===0||s===t?0:typeof t=="number"?s-t:0,Ve=s=>({position:"relative",width:s,height:s}),Ge={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},X=(s,t,i,n,r)=>{if(n===0)return t;let a=(r?n-s:s)/n;return t+i*a},D=s=>{var t,i;return(i=(t=s.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(n,r,a,c)=>`#${r}${r}${a}${a}${c}${c}`).substring(1).match(/.{2}/g))==null?void 0:t.map(n=>parseInt(n,16)))!=null?i:[]},Ye=(s,t)=>{var i;let{colors:n,colorsTime:r,isSmoothColorTransition:a=!0}=s;if(typeof n=="string")return n;let c=(i=r==null?void 0:r.findIndex((m,f)=>m>=t&&t>=r[f+1]))!=null?i:-1;if(!r||c===-1)return n[0];if(!a)return n[c];let d=r[c]-t,l=r[c]-r[c+1],u=D(n[c]),h=D(n[c+1]),o=!!s.isGrowing;return`rgb(${u.map((m,f)=>X(d,m,h[f]-m,l,o)|0).join(",")})`},He=s=>{let{duration:t,initialRemainingTime:i,updateInterval:n,size:r=180,strokeWidth:a=12,trailStrokeWidth:c,isPlaying:d=!1,isGrowing:l=!1,rotation:u="clockwise",onComplete:h,onUpdate:o}=s,m=p.useRef(),f=Math.max(a,c??0),{path:g,pathLength:w}=Oe(r,f,u),{elapsedTime:_}=De({isPlaying:d,duration:t,startAt:A(t,i),updateInterval:n,onUpdate:typeof o=="function"?v=>{let k=Math.ceil(t-v);k!==m.current&&(m.current=k,o(k))}:void 0,onComplete:typeof h=="function"?v=>{var k;let{shouldRepeat:T,delay:P,newInitialRemainingTime:B}=(k=h(v))!=null?k:{};if(T)return{shouldRepeat:T,delay:P,newStartAt:A(t,B)}}:void 0}),y=t-_;return{elapsedTime:_,path:g,pathLength:w,remainingTime:Math.ceil(y),rotation:u,size:r,stroke:Ye(s,y),strokeDashoffset:X(_,0,w,t,l),strokeWidth:a}},Z=s=>{let{children:t,strokeLinecap:i,trailColor:n,trailStrokeWidth:r}=s,{path:a,pathLength:c,stroke:d,strokeDashoffset:l,remainingTime:u,elapsedTime:h,size:o,strokeWidth:m}=He(s);return L.createElement("div",{style:Ve(o)},L.createElement("svg",{viewBox:`0 0 ${o} ${o}`,width:o,height:o,xmlns:"http://www.w3.org/2000/svg"},L.createElement("path",{d:a,fill:"none",stroke:n??"#d9d9d9",strokeWidth:r??m}),L.createElement("path",{d:a,fill:"none",stroke:d,strokeLinecap:i??"round",strokeWidth:m,strokeDasharray:c,strokeDashoffset:l})),typeof t=="function"&&L.createElement("div",{style:Ge},t({remainingTime:u,elapsedTime:h,color:d})))};Z.displayName="CountdownCircleTimer";const Je="_module_container_10c65_1",Ke="_left_side_10c65_7",Qe="_timer_10c65_13",Xe="_play_10c65_19",Ze="_calories_10c65_27",es="_calories_amount_10c65_33",ss="_right_side_10c65_37",ts="_gif_10c65_44",is="_exercise_descr_10c65_50",ns="_exercise_div_10c65_56",rs="_type_10c65_68",as="_type_descr_10c65_74",cs="_button_10c65_118",x={module_container:Je,left_side:Ke,timer:Qe,play:Xe,calories:Ze,calories_amount:es,right_side:ss,gif:ts,exercise_descr:is,exercise_div:ns,type:rs,type_descr:as,button:cs},os=({exercise:s,toggleExerciseModal:t,toggleSuccessModal:i,setExercise:n})=>{const[r,a]=p.useState(0),[c,d]=p.useState(0),[l,u]=p.useState(!1),h=O(),{date:o}=le();p.useEffect(()=>{let _;return l?_=setInterval(()=>{a(y=>{const v=y+1;return v===180&&(clearInterval(_),u(!1)),v})},1e3):clearInterval(_),()=>{clearInterval(_)}},[l,u]),p.useEffect(()=>{const _=(r/60*s.burnedCalories/3).toFixed();d(_)},[r,s.burnedCalories]);const m=()=>{u(_=>!_)},f=_=>_.charAt(0).toUpperCase()+_.slice(1),g=Math.floor(r/60),w=()=>{h(se({date:o,credentials:{doneExercises:[{exercise:s._id,time:g,calories:c}]}})),n({time:g,calories:c}),t(),i()};return e.jsxs("div",{className:x.module_container,children:[e.jsxs("div",{className:x.left_side,children:[e.jsx("img",{className:x.gif,src:s.gifUrl,alt:"Exercise technique"}),e.jsxs("div",{className:x.timer,children:[e.jsx(Z,{isPlaying:l,strokeWidth:4,duration:180,size:124,isGrowing:!0,rotation:"counterclockwise",colors:["#E6533C"],trailColor:["#323232"],children:({remainingTime:_})=>{const y=Math.floor(_/60),v=_%60;return`${String(y).padStart(2,"0")}:${String(v).padStart(2,"0")}`}}),!l&&e.jsx("svg",{className:x.play,onClick:m,children:e.jsx("use",{href:C+"#icon-play"})}),l&&e.jsx("svg",{className:x.play,onClick:m,children:e.jsx("use",{href:C+"#icon-pause-square"})}),e.jsxs("p",{className:x.calories,children:["Burned calories:"," ",e.jsx("span",{className:x.calories_amount,children:c})]})]})]}),e.jsxs("div",{className:x.right_side,children:[e.jsxs("div",{className:x.exercise_descr,children:[e.jsxs("div",{className:x.exercise_div,children:[e.jsx("p",{className:x.type,children:"Name"}),e.jsx("p",{className:x.type_descr,children:f(s.name)})]}),e.jsxs("div",{className:x.exercise_div,children:[e.jsx("p",{className:x.type,children:"Target"}),e.jsx("p",{className:x.type_descr,children:f(s.target)})]}),e.jsxs("div",{className:x.exercise_div,children:[e.jsx("p",{className:x.type,children:"Body Part"}),e.jsx("p",{className:x.type_descr,children:f(s.bodyPart)})]}),e.jsxs("div",{className:x.exercise_div,children:[e.jsx("p",{className:x.type,children:"Equipment"}),e.jsx("p",{className:x.type_descr,children:f(s.equipment)})]})]}),e.jsx("button",{type:"button",onClick:w,disabled:g<1,className:x.button,children:"Add to diary"})]})]})},ls="_container_1kxge_1",ds="_pic_1kxge_10",us="_welldone_1kxge_14",ms="_amount_container_1kxge_20",ps="_text_1kxge_27",xs="_amount_1kxge_20",_s="_links_1kxge_37",hs="_link_1kxge_37",gs="_svg_1kxge_51",N={container:ls,pic:ds,welldone:us,amount_container:ms,text:ps,amount:xs,links:_s,link:hs,svg:gs},fs="/power-pulse-front-end-react/assets/thumb_up-47cb592a.png",vs=({exercise:s,toggleSuccessModal:t,location:i})=>{var n;return e.jsxs("div",{className:N.container,children:[e.jsx("img",{className:N.pic,src:fs,alt:"Well done"}),e.jsx("p",{className:N.welldone,children:"Well done"}),e.jsxs("div",{className:N.amount_container,children:[e.jsxs("p",{className:N.text,children:["Your time: ",e.jsx("span",{className:N.amount,children:s.time})]}),e.jsxs("p",{className:N.text,children:["Burned calories:"," ",e.jsx("span",{className:N.amount,children:s.calories})]})]}),e.jsxs("div",{className:N.links,children:[e.jsx(oe,{btnType:"button",onClick:t,text:"Next exercise"}),e.jsxs(te,{to:((n=i.state)==null?void 0:n.from)??"/diary",className:N.link,children:["To the diary",e.jsx("svg",{className:N.svg,children:e.jsx("use",{href:C+"#icon-arrow-modal"})})]})]})]})},ys="_waistItemLi_1fm7t_1",js="_btnWrapper_1fm7t_47",bs="_cardLabel_1fm7t_54",Ns="_btnLabel_1fm7t_64",ks="_svgExercise_1fm7t_82",Es="_exercisesTitleBox_1fm7t_92",ws="_title_1fm7t_97",Ts="_svgExerciseRun_1fm7t_116",Cs="_spanExerciseRun_1fm7t_125",Ls="_list_1fm7t_139",Is="_listItem_1fm7t_145",$s="_listItemValue_1fm7t_154",b={waistItemLi:ys,btnWrapper:js,cardLabel:bs,btnLabel:Ns,svgExercise:ks,exercisesTitleBox:Es,title:ws,svgExerciseRun:Ts,spanExerciseRun:Cs,list:Ls,listItem:Is,listItemValue:$s},$={cardLabel:"Workout",btnLabel:"Start",list:{burnedCalories:"Burned calories:",bodyPart:"Body part:",target:"Target:"}},Ss=({data:s,location:t})=>{const[i,n]=p.useState(!1),[r,a]=p.useState(!1),[c,d]=p.useState({}),l=o=>o.slice(0,1).toUpperCase()+o.slice(1),u=()=>{n(o=>!o),i===!0&&(document.body.style.overflow="auto"),i===!1&&(document.body.style.overflow="hidden")},h=()=>{a(o=>!o),r===!0&&(document.body.style.overflow="auto"),r===!1&&(document.body.style.overflow="hidden")};return e.jsxs("li",{className:b.waistItemLi,children:[e.jsxs("div",{className:b.btnWrapper,children:[e.jsx("p",{className:b.cardLabel,children:$.cardLabel}),e.jsxs("button",{className:b.btnLabel,type:"button",onClick:u,children:[$.btnLabel,e.jsx("svg",{className:b.svgExercise,children:e.jsx("use",{href:`${C}#icon-add-arrow`})})]})]}),e.jsxs("div",{className:b.exercisesTitleBox,children:[e.jsx("span",{className:b.spanExerciseRun,children:e.jsxs("svg",{className:b.svgExerciseRun,width:24,height:24,children:[e.jsx("use",{href:`${C}#icon-runn ing-figure`}),e.jsx("use",{href:`${C}#icon-running-stick-figure-svgrepo-com-1`})]})}),e.jsxs("h3",{className:b.title,children:[l(s.name)," "]})]}),i&&e.jsx(M,{onClose:u,children:e.jsx(os,{exercise:s,toggleExerciseModal:u,toggleSuccessModal:h,setExercise:d})}),r&&e.jsx(M,{onClose:h,children:e.jsx(vs,{exercise:c,toggleSuccessModal:h,location:t})}),e.jsx("ul",{className:b.list,children:Object.keys($.list).map(o=>e.jsxs("li",{className:b.listItem,children:[$.list[o],e.jsx("span",{className:b.listItemValue,children:l(String(s[o]))})]},o))})]})},Ps="_waistListContainer_ut5mh_1",Bs="_imgWaist_ut5mh_6",Ws="_waistItemUl_ut5mh_23",Rs="_noExercisesTitle_ut5mh_66",S={waistListContainer:Ps,imgWaist:Bs,waistItemUl:Ws,noExercisesTitle:Rs},Fs="/power-pulse-front-end-react/assets/Waist1-17196d5b.jpg",qs=({activeName:s,exercisesFiler:t,location:i})=>{const{exercises:n}=F(),r=n.filter(a=>{if(t==="Body parts")return a.bodyPart===s;if(t==="Muscules")return a.target===s;if(t==="Equipment")return a.equipment===s});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:S.waistListContainer,children:[e.jsx("ul",{className:S.waistItemUl,children:r.length?r.slice(0,50).map(a=>e.jsx(Ss,{location:i,data:a},a._id)):e.jsx("h2",{className:S.noExercisesTitle,children:"There are no exercises in this category, please try again later!"})}),e.jsx("img",{className:S.imgWaist,src:Fs,alt:"Waist exercise image"})]})})},Vs=()=>{const[s]=p.useState(""),[t,i]=p.useState(null),[n,r]=ie(),{bodyParts:a}=F(),c=O(),d=ne(),{loading:l}=F(),u=n.get("filterName")||"";n.get("category"),p.useEffect(()=>{c(re()),c(ae()),n.get("filterName")||r({filterName:"Body parts"})},[c,n]);const h=m=>m.slice(0,1).toUpperCase()+m.slice(1),o=m=>{r({filterName:m})};return e.jsxs("div",{className:E.div,children:[l&&e.jsx(de,{}),e.jsxs("div",{className:E.exercisesWrapper,children:[e.jsxs("div",{className:E.head,children:[e.jsxs("div",{className:`${E.buttonsWrapper} ${t?E.activeClass:""}`,children:[t&&e.jsxs("button",{type:"button",onClick:()=>i(""),className:E.btnBack,children:[e.jsx("svg",{className:E.svgBack,width:16,height:16,children:e.jsx("use",{href:ce+"#icon-arrow-left"})}),"Back"]}),e.jsx("div",{className:E.exercisesBox,children:u!=="Waist"?e.jsx("h2",{className:E.exercisesTitle,children:"Exercises"}):e.jsx("h2",{className:E.exercisesTitle,children:h(s)})})]}),e.jsx(K,{exercisesFiler:u,handleFilterClick:o,setActiveName:i})]}),t?e.jsx(qs,{loading:l,activeName:t,location:d,exercisesFiler:u}):e.jsxs(e.Fragment,{children:[u==="Body parts"&&e.jsx(R,{handleFilterClick:o,setActiveName:i,filters:a.bodyPart}),u==="Muscules"&&e.jsx(R,{handleFilterClick:o,setActiveName:i,filters:a.muscles}),u==="Equipment"&&e.jsx(R,{handleFilterClick:o,setActiveName:i,filters:a.equipment})]})]})]})};export{Vs as default};
