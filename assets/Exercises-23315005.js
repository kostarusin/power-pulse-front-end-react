import{i as R,k as ee,j as e,r as p,R as I,u as D,l as se,L as te,c as ie,m as ne,n as re,s as ce}from"./index-6b0fa98c.js";import{s as O}from"./styled-components.browser.esm-c40ea944.js";import{B as ae,M}from"./ButtonModal-8e2e4697.js";import{i as C}from"./emotion-unitless.esm-e8b8fe49.js";import{u as oe}from"./useDiary-fffc2784.js";const le=s=>s.exercises.loading,de=s=>s.exercises.exercises,ue=s=>s.exercises.bodyParts,V=()=>{const s=R(le),t=R(de),n=R(ue);return{loading:s,exercises:t,bodyParts:n}};var G={exports:{}},pe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",me=pe,xe=me;function Y(){}function H(){}H.resetWarningCache=Y;var _e=function(){function s(r,i,c,a,d,o){if(o!==xe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}s.isRequired=s;function t(){return s}var n={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:t,element:s,elementType:s,instanceOf:t,node:s,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:H,resetWarningCache:Y};return n.PropTypes=n,n};G.exports=_e();var J=G.exports;const U=ee(J),he="_exercisesWrapper_jwoec_1",ge="_exercisesBox_jwoec_16",fe="_exercisesTitle_jwoec_22",je="_div_jwoec_30",ye="_btnBack_jwoec_53",be="_svgBack_jwoec_65",T={exercisesWrapper:he,exercisesBox:ge,exercisesTitle:fe,div:je,btnBack:ye,svgBack:be},ve="_ExercisesNavList_1fsjk_1",Ne="_ExercisesFilter_1fsjk_19",ke="_active_1fsjk_35",we="_FilterBtn_1fsjk_67",b={ExercisesNavList:ve,ExercisesFilter:Ne,active:ke,FilterBtn:we},K=({activeFilter:s,handleFilterClick:t,setActiveName:n})=>e.jsxs("ul",{className:b.ExercisesNavList,children:[e.jsx("li",{className:`${b.ExercisesFilter} ${s==="Body parts"?b.active:""}`,children:e.jsx("button",{type:"button",onClick:()=>{t("Body parts"),n("")},className:`${b.FilterBtn} ${s==="Body parts"?b.active:""}`,children:"Body parts"})}),e.jsx("li",{className:`${b.ExercisesFilter} ${s==="Muscules"?b.active:""}`,children:e.jsx("button",{type:"button",onClick:()=>{t("Muscules"),n("")},className:`${b.FilterBtn} ${s==="Muscules"?b.active:""}`,children:"Muscles"})}),e.jsx("li",{className:`${b.ExercisesFilter} ${s==="Equipment"?b.active:""}`,children:e.jsx("button",{type:"button",onClick:()=>{t("Equipment"),n("")},className:`${b.FilterBtn} ${s==="Equipment"?b.active:""}`,children:"Equipment"})})]});K.propTypes={activeFilter:U.string,handleFilterClick:U.func};const Ee="_exercisesUl_8nbca_1",Te={exercisesUl:Ee},Ce="_exercisesLi_1ncnr_1",Ie="_image_1ncnr_6",Le="_titleContainer_1ncnr_30",$e="_exerciseItemTitle_1ncnr_44",Se="_exerciseItemText_1ncnr_56",L={exercisesLi:Ce,image:Ie,titleContainer:Le,exerciseItemTitle:$e,exerciseItemText:Se},Be="/power-pulse-front-end-react/assets/0-default-fa91a1ec.jpg",Q=({exercisesItem:s,setActiveName:t})=>{const{name:n,filter:r,imgURL:i}=s,c=a=>a.slice(0,1).toUpperCase()+a.slice(1);return e.jsxs("li",{className:L.exercisesLi,onClick:()=>t(s.name),children:[e.jsx("img",{className:L.image,src:i||Be,alt:n}),e.jsxs("div",{className:L.titleContainer,children:[e.jsx("h3",{className:L.exerciseItemTitle,children:c(n)}),e.jsx("p",{className:L.exerciseItemtext,children:r})]})]})};Q.propTypes={exercisesItem:J.PropTypes.object};const Pe="/power-pulse-front-end-react/assets/sprite-2fdf8fa9.svg",Re=O.div`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding-bottom: 90px;
  height: 100vh;

  ul.pagination {
    display: flex;
    list-style: none;
    padding: 0;
    justify-content: center;
    margin-top: 32px;
  }

  li.page-item {
    margin: 0 4px;
  }

  button.page-link {
    border: none;
    background-color: #fff;
    padding: 0;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    cursor: pointer;
    transition: background-color 0.2s ease;
    font-size: 0;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  nav.pagination-nav {
    padding-bottom: 90px;
  }

  button.page-link:not(.active) {
    background-color: rgba(239, 237, 232, 0.1);
  }

  li.page-item.active button.page-link {
    padding: 0;
  }

  li.page-item.active button.page-link svg {
    width: 14px;
    height: 14px;
  }

`,We=O.li`
  margin-top: 32px;
`,Fe=({itemsPerPage:s,totalItems:t,currentPage:n,onPageChange:r})=>{const i=Math.ceil(t/s),c=d=>{d>=1&&d<=i&&r(d)},a=()=>{const d=[];for(let o=1;o<=i;o++)d.push(e.jsx(We,{className:`page-item ${o===n?"active":""}`,children:e.jsxs("button",{className:"page-link",onClick:()=>c(o),children:[o,o===n&&e.jsx("svg",{children:e.jsx("use",{href:`${Pe}#pagination-btn`})})]})},o));return d};return e.jsx("nav",{"aria-label":"Pagination",className:"pagination-nav",children:e.jsx("ul",{className:"pagination",children:a()})})},W=({handleFilterClick:s,handleSetExName:t,setActiveName:n,filters:r})=>{const[i,c]=p.useState(1),a=()=>{const g=window.innerWidth;return g>=768&&g<=1439?9:10},[d,o]=p.useState(a),u=()=>{o(a())};p.useEffect(()=>(window.addEventListener("resize",u),u(),()=>{window.removeEventListener("resize",u)}),[]);const x=g=>{c(g)},l=i*d,_=l-d,j=r?r.slice(_,l):[];return e.jsxs(Re,{children:[e.jsx("ul",{className:Te.exercisesUl,children:j.map(g=>e.jsx(Q,{exercisesItem:g,handleFilterClick:s,handleSetExName:t,setActiveName:n},g._id))}),r&&d<r.length&&e.jsx(Fe,{itemsPerPage:d,totalItems:r.length,currentPage:i,onPageChange:x})]})};var q=typeof window>"u"?p.useEffect:p.useLayoutEffect,Me=({isPlaying:s,duration:t,startAt:n=0,updateInterval:r=0,onComplete:i,onUpdate:c})=>{let[a,d]=p.useState(n),o=p.useRef(0),u=p.useRef(n),x=p.useRef(n*-1e3),l=p.useRef(null),_=p.useRef(null),j=p.useRef(null),g=y=>{let f=y/1e3;if(_.current===null){_.current=f,l.current=requestAnimationFrame(g);return}let k=f-_.current,E=o.current+k;_.current=f,o.current=E;let B=u.current+(r===0?E:(E/r|0)*r),P=u.current+E,F=typeof t=="number"&&P>=t;d(F?t:B),F||(l.current=requestAnimationFrame(g))},w=()=>{l.current&&cancelAnimationFrame(l.current),j.current&&clearTimeout(j.current),_.current=null},h=p.useCallback(y=>{w(),o.current=0;let f=typeof y=="number"?y:n;u.current=f,d(f),s&&(l.current=requestAnimationFrame(g))},[s,n]);return q(()=>{if(c==null||c(a),t&&a>=t){x.current+=t*1e3;let{shouldRepeat:y=!1,delay:f=0,newStartAt:k}=(i==null?void 0:i(x.current/1e3))||{};y&&(j.current=setTimeout(()=>h(k),f*1e3))}},[a,t]),q(()=>(s&&(l.current=requestAnimationFrame(g)),w),[s,t,r]),{elapsedTime:a,reset:h}},Ue=(s,t,n)=>{let r=s/2,i=t/2,c=r-i,a=2*c,d=n==="clockwise"?"1,0":"0,1",o=2*Math.PI*c;return{path:`m ${r},${i} a ${c},${c} 0 ${d} 0,${a} a ${c},${c} 0 ${d} 0,-${a}`,pathLength:o}},z=(s,t)=>s===0||s===t?0:typeof t=="number"?s-t:0,qe=s=>({position:"relative",width:s,height:s}),ze={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},X=(s,t,n,r,i)=>{if(r===0)return t;let c=(i?r-s:s)/r;return t+n*c},A=s=>{var t,n;return(n=(t=s.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(r,i,c,a)=>`#${i}${i}${c}${c}${a}${a}`).substring(1).match(/.{2}/g))==null?void 0:t.map(r=>parseInt(r,16)))!=null?n:[]},Ae=(s,t)=>{var n;let{colors:r,colorsTime:i,isSmoothColorTransition:c=!0}=s;if(typeof r=="string")return r;let a=(n=i==null?void 0:i.findIndex((_,j)=>_>=t&&t>=i[j+1]))!=null?n:-1;if(!i||a===-1)return r[0];if(!c)return r[a];let d=i[a]-t,o=i[a]-i[a+1],u=A(r[a]),x=A(r[a+1]),l=!!s.isGrowing;return`rgb(${u.map((_,j)=>X(d,_,x[j]-_,o,l)|0).join(",")})`},De=s=>{let{duration:t,initialRemainingTime:n,updateInterval:r,size:i=180,strokeWidth:c=12,trailStrokeWidth:a,isPlaying:d=!1,isGrowing:o=!1,rotation:u="clockwise",onComplete:x,onUpdate:l}=s,_=p.useRef(),j=Math.max(c,a??0),{path:g,pathLength:w}=Ue(i,j,u),{elapsedTime:h}=Me({isPlaying:d,duration:t,startAt:z(t,n),updateInterval:r,onUpdate:typeof l=="function"?f=>{let k=Math.ceil(t-f);k!==_.current&&(_.current=k,l(k))}:void 0,onComplete:typeof x=="function"?f=>{var k;let{shouldRepeat:E,delay:B,newInitialRemainingTime:P}=(k=x(f))!=null?k:{};if(E)return{shouldRepeat:E,delay:B,newStartAt:z(t,P)}}:void 0}),y=t-h;return{elapsedTime:h,path:g,pathLength:w,remainingTime:Math.ceil(y),rotation:u,size:i,stroke:Ae(s,y),strokeDashoffset:X(h,0,w,t,o),strokeWidth:c}},Z=s=>{let{children:t,strokeLinecap:n,trailColor:r,trailStrokeWidth:i}=s,{path:c,pathLength:a,stroke:d,strokeDashoffset:o,remainingTime:u,elapsedTime:x,size:l,strokeWidth:_}=De(s);return I.createElement("div",{style:qe(l)},I.createElement("svg",{viewBox:`0 0 ${l} ${l}`,width:l,height:l,xmlns:"http://www.w3.org/2000/svg"},I.createElement("path",{d:c,fill:"none",stroke:r??"#d9d9d9",strokeWidth:i??_}),I.createElement("path",{d:c,fill:"none",stroke:d,strokeLinecap:n??"round",strokeWidth:_,strokeDasharray:a,strokeDashoffset:o})),typeof t=="function"&&I.createElement("div",{style:ze},t({remainingTime:u,elapsedTime:x,color:d})))};Z.displayName="CountdownCircleTimer";const Oe="_module_container_1ci5p_1",Ve="_left_side_1ci5p_7",Ge="_timer_1ci5p_13",Ye="_play_1ci5p_19",He="_calories_1ci5p_26",Je="_calories_amount_1ci5p_32",Ke="_right_side_1ci5p_36",Qe="_gif_1ci5p_43",Xe="_exercise_descr_1ci5p_49",Ze="_exercise_div_1ci5p_55",es="_type_1ci5p_67",ss="_type_descr_1ci5p_73",ts="_button_1ci5p_117",m={module_container:Oe,left_side:Ve,timer:Ge,play:Ye,calories:He,calories_amount:Je,right_side:Ke,gif:Qe,exercise_descr:Xe,exercise_div:Ze,type:es,type_descr:ss,button:ts},is=({exercise:s,toggleExerciseModal:t,toggleSuccessModal:n,setExercise:r})=>{const[i,c]=p.useState(0),[a,d]=p.useState(0),[o,u]=p.useState(!1),x=D(),{date:l}=oe();p.useEffect(()=>{let h;return o?h=setInterval(()=>{c(y=>{const f=y+1;return f===180&&(clearInterval(h),u(!1)),f})},1e3):clearInterval(h),()=>{clearInterval(h)}},[o,u]),p.useEffect(()=>{const h=(i/60*s.burnedCalories/3).toFixed();d(h)},[i,s.burnedCalories]);const _=()=>{u(h=>!h)},j=h=>h.charAt(0).toUpperCase()+h.slice(1),g=Math.floor(i/60),w=()=>{x(se({date:l,credentials:{doneExercises:[{exercise:s._id,time:g,calories:a}]}})),r({time:g,calories:a}),t(),n()};return e.jsxs("div",{className:m.module_container,children:[e.jsxs("div",{className:m.left_side,children:[e.jsx("img",{className:m.gif,src:s.gifUrl,alt:"Exercise technique"}),e.jsxs("div",{className:m.timer,children:[e.jsx(Z,{isPlaying:o,strokeWidth:4,duration:180,size:124,isGrowing:!0,rotation:"counterclockwise",colors:["#E6533C"],trailColor:["#323232"],children:({remainingTime:h})=>{const y=Math.floor(h/60),f=h%60;return`${String(y).padStart(2,"0")}:${String(f).padStart(2,"0")}`}}),!o&&e.jsx("svg",{className:m.play,onClick:_,children:e.jsx("use",{href:C+"#icon-play"})}),o&&e.jsx("svg",{className:m.play,onClick:_,children:e.jsx("use",{href:C+"#icon-pause-square"})}),e.jsxs("p",{className:m.calories,children:["Burned calories:"," ",e.jsx("span",{className:m.calories_amount,children:a})]})]})]}),e.jsxs("div",{className:m.right_side,children:[e.jsxs("div",{className:m.exercise_descr,children:[e.jsxs("div",{className:m.exercise_div,children:[e.jsx("p",{className:m.type,children:"Name"}),e.jsx("p",{className:m.type_descr,children:j(s.name)})]}),e.jsxs("div",{className:m.exercise_div,children:[e.jsx("p",{className:m.type,children:"Target"}),e.jsx("p",{className:m.type_descr,children:j(s.target)})]}),e.jsxs("div",{className:m.exercise_div,children:[e.jsx("p",{className:m.type,children:"Body Part"}),e.jsx("p",{className:m.type_descr,children:j(s.bodyPart)})]}),e.jsxs("div",{className:m.exercise_div,children:[e.jsx("p",{className:m.type,children:"Equipment"}),e.jsx("p",{className:m.type_descr,children:j(s.equipment)})]})]}),e.jsx("button",{type:"button",onClick:w,disabled:g<1,className:m.button,children:"Add to diary"})]})]})},ns="_container_1kxge_1",rs="_pic_1kxge_10",cs="_welldone_1kxge_14",as="_amount_container_1kxge_20",os="_text_1kxge_27",ls="_amount_1kxge_20",ds="_links_1kxge_37",us="_link_1kxge_37",ps="_svg_1kxge_51",N={container:ns,pic:rs,welldone:cs,amount_container:as,text:os,amount:ls,links:ds,link:us,svg:ps},ms="/power-pulse-front-end-react/assets/thumb_up-47cb592a.png",xs=({exercise:s,toggleSuccessModal:t,location:n})=>{var r;return e.jsxs("div",{className:N.container,children:[e.jsx("img",{className:N.pic,src:ms,alt:"Well done"}),e.jsx("p",{className:N.welldone,children:"Well done"}),e.jsxs("div",{className:N.amount_container,children:[e.jsxs("p",{className:N.text,children:["Your time: ",e.jsx("span",{className:N.amount,children:s.time})]}),e.jsxs("p",{className:N.text,children:["Burned calories:"," ",e.jsx("span",{className:N.amount,children:s.calories})]})]}),e.jsxs("div",{className:N.links,children:[e.jsx(ae,{btnType:"button",onClick:t,text:"Next exercise"}),e.jsxs(te,{to:((r=n.state)==null?void 0:r.from)??"/diary",className:N.link,children:["To the diary",e.jsx("svg",{className:N.svg,children:e.jsx("use",{href:C+"#icon-arrow-modal"})})]})]})]})},_s="_waistItemLi_1ub6x_1",hs="_btnWrapper_1ub6x_29",gs="_cardLabel_1ub6x_36",fs="_btnLabel_1ub6x_46",js="_svgExercise_1ub6x_63",ys="_exercisesTitleBox_1ub6x_73",bs="_title_1ub6x_78",vs="_svgExerciseRun_1ub6x_96",Ns="_spanExerciseRun_1ub6x_105",ks="_list_1ub6x_119",ws="_listItem_1ub6x_125",Es="_listItemValue_1ub6x_134",v={waistItemLi:_s,btnWrapper:hs,cardLabel:gs,btnLabel:fs,svgExercise:js,exercisesTitleBox:ys,title:bs,svgExerciseRun:vs,spanExerciseRun:Ns,list:ks,listItem:ws,listItemValue:Es},$={cardLabel:"Workout",btnLabel:"Start",list:{burnedCalories:"Burned calories:",bodyPart:"Body part:",target:"Target:"}},Ts=({data:s,location:t})=>{const[n,r]=p.useState(!1),[i,c]=p.useState(!1),[a,d]=p.useState({}),o=l=>l.slice(0,1).toUpperCase()+l.slice(1),u=()=>{r(l=>!l),n===!0&&(document.body.style.overflow="auto"),n===!1&&(document.body.style.overflow="hidden")},x=()=>{c(l=>!l),i===!0&&(document.body.style.overflow="auto"),i===!1&&(document.body.style.overflow="hidden")};return e.jsxs("li",{className:v.waistItemLi,children:[e.jsxs("div",{className:v.btnWrapper,children:[e.jsx("p",{className:v.cardLabel,children:$.cardLabel}),e.jsxs("button",{className:v.btnLabel,type:"button",onClick:u,children:[$.btnLabel,e.jsx("svg",{className:v.svgExercise,children:e.jsx("use",{href:`${C}#icon-add-arrow`})})]})]}),e.jsxs("div",{className:v.exercisesTitleBox,children:[e.jsx("span",{className:v.spanExerciseRun,children:e.jsxs("svg",{className:v.svgExerciseRun,width:24,height:24,children:[e.jsx("use",{href:`${C}#icon-runn ing-figure`}),e.jsx("use",{href:`${C}#icon-running-stick-figure-svgrepo-com-1`})]})}),e.jsxs("h3",{className:v.title,children:[o(s.name)," "]})]}),n&&e.jsx(M,{onClose:u,children:e.jsx(is,{exercise:s,toggleExerciseModal:u,toggleSuccessModal:x,setExercise:d})}),i&&e.jsx(M,{onClose:x,children:e.jsx(xs,{exercise:a,toggleSuccessModal:x,location:t})}),e.jsx("ul",{className:v.list,children:Object.keys($.list).map(l=>e.jsxs("li",{className:v.listItem,children:[$.list[l],e.jsx("span",{className:v.listItemValue,children:o(String(s[l]))})]},l))})]})},Cs="_waistListContainer_1wbzk_1",Is="_imgWaist_1wbzk_5",Ls="_waistItemUl_1wbzk_21",$s="_noExercisesTitle_1wbzk_60",S={waistListContainer:Cs,imgWaist:Is,waistItemUl:Ls,noExercisesTitle:$s},Ss="/power-pulse-front-end-react/assets/Waist1-17196d5b.jpg",Bs=({activeName:s,activeFilter:t,location:n})=>{const{exercises:r}=V(),i=r.filter(c=>{if(t==="Body parts")return c.bodyPart===s;if(t==="Muscules")return c.target===s;if(t==="Equipment")return c.equipment===s});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:S.waistListContainer,children:[e.jsx("ul",{className:S.waistItemUl,children:i.length?i.slice(0,50).map(c=>e.jsx(Ts,{location:n,data:c},c._id)):e.jsx("h2",{className:S.noExercisesTitle,children:"There are no exercises in this category, please try again later!"})}),e.jsx("img",{className:S.imgWaist,src:Ss,alt:"Waist exercise image"})]})})},Us=()=>{const[s,t]=p.useState("Body parts"),[n]=p.useState(""),[r,i]=p.useState(null),{bodyParts:c}=V(),a=D(),d=ie();p.useEffect(()=>{a(ne())},[a]),p.useEffect(()=>{a(re())},[a]);const o=x=>x.slice(0,1).toUpperCase()+x.slice(1),u=x=>{t(x)};return e.jsx("div",{className:T.div,children:e.jsxs("div",{className:T.exercisesWrapper,children:[r&&e.jsxs("button",{type:"button",onClick:()=>i(""),className:T.btnBack,children:[e.jsx("svg",{className:T.svgBack,width:16,height:16,children:e.jsx("use",{href:ce+"#icon-arrow-left"})}),"Back"]}),e.jsxs("div",{className:T.exercisesBox,children:[s!=="Waist"?e.jsx("h2",{className:T.exercisesTitle,children:"Exercises"}):e.jsx("h2",{className:T.exercisesTitle,children:o(n)}),e.jsx(K,{activeFilter:s,handleFilterClick:u,setActiveName:i})]}),r?e.jsx(Bs,{activeName:r,location:d,activeFilter:s}):e.jsxs(e.Fragment,{children:[s==="Body parts"&&e.jsx(W,{handleFilterClick:u,setActiveName:i,filters:c.bodyPart}),s==="Muscules"&&e.jsx(W,{handleFilterClick:u,setActiveName:i,filters:c.muscles}),s==="Equipment"&&e.jsx(W,{handleFilterClick:u,setActiveName:i,filters:c.equipment})]})]})})};export{Us as default};
